{
  "version": 3,
  "sources": ["../../../../../perf-cascade/lib/helpers/misc.js", "../../../../../perf-cascade/lib/helpers/parse.js", "../../../../../perf-cascade/lib/legend/legend.js", "../../../../../perf-cascade/lib/helpers/dom.js", "../../../../../perf-cascade/lib/paging/paging.js", "../../../../../perf-cascade/lib/helpers/har.js", "../../../../../perf-cascade/lib/transformers/har-heuristics.js", "../../../../../perf-cascade/lib/waterfall/row/svg-indicators.js", "../../../../../perf-cascade/lib/transformers/helpers.js", "../../../../../perf-cascade/lib/transformers/extract-details-keys.js", "../../../../../perf-cascade/lib/transformers/har-tabs.js", "../../../../../perf-cascade/lib/transformers/har.js", "../../../../../perf-cascade/lib/helpers/svg.js", "../../../../../perf-cascade/lib/transformers/styling-converters.js", "../../../../../perf-cascade/lib/waterfall/details-overlay/html-details-body.js", "../../../../../perf-cascade/lib/waterfall/details-overlay/svg-details-overlay.js", "../../../../../perf-cascade/lib/waterfall/details-overlay/overlay-manager.js", "../../../../../perf-cascade/lib/waterfall/details-overlay/pub-sub.js", "../../../../../perf-cascade/lib/helpers/icons.js", "../../../../../perf-cascade/lib/waterfall/row/svg-tooltip.js", "../../../../../perf-cascade/lib/waterfall/row/svg-row-subcomponents.js", "../../../../../perf-cascade/lib/waterfall/row/svg-row.js", "../../../../../perf-cascade/lib/waterfall/sub-components/svg-alignment-helper.js", "../../../../../perf-cascade/lib/waterfall/sub-components/svg-general-components.js", "../../../../../perf-cascade/lib/waterfall/sub-components/svg-marks.js", "../../../../../perf-cascade/lib/waterfall/svg-chart.js", "../../../../../perf-cascade/lib/main.js", "../../../../../perf-cascade/lib/file-reader.js"],
  "sourcesContent": ["/**\n *  Misc Helpers\n */\n/**\n * Parses URL into its components\n * @param  {string} url\n */\nfunction parseUrl(url) {\n    const pattern = RegExp(\"^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\\\?([^#]*))?(#(.*))?\");\n    const matches = url.match(pattern) || [];\n    return {\n        authority: matches[4],\n        fragment: matches[9],\n        path: matches[5],\n        query: matches[7],\n        scheme: matches[2],\n    };\n}\n/**\n * @param  {T[]} arr - array to search\n * @param  {T} item - item to search for\n * @returns boolean - true if `item` is in `arr`\n */\nexport function contains(arr, item) {\n    return arr.some((x) => x === item);\n}\n/**\n * Returns Index of first match to `predicate` in `arr`\n * @param arr Array to search\n * @param predicate Function that returns true for a match\n */\nexport function findIndex(arr, predicate) {\n    let i = 0;\n    if (!arr || arr.length < 1) {\n        return undefined;\n    }\n    const len = arr.length;\n    while (i < len) {\n        if (predicate(arr[i], i)) {\n            return i;\n        }\n        i++;\n    }\n    return undefined;\n}\n/**\n * Returns first match to `predicate` in `arr`\n * @param arr Array to search\n * @param predicate Function that returns true for a match\n */\nexport function find(arr, predicate) {\n    const index = findIndex(arr, predicate);\n    if (index === undefined) {\n        return undefined;\n    }\n    return arr[index];\n}\n/**\n * Formats and shortens a url for ui\n * @param  {string} url\n * @param  {number} maxLength - max length of shortened url\n * @returns string\n */\nexport function resourceUrlFormatter(url, maxLength) {\n    if (url.length < maxLength) {\n        return url.replace(/https?:\\/\\//, \"\");\n    }\n    const matches = parseUrl(url);\n    if ((matches.authority + matches.path).length < maxLength) {\n        return matches.authority + matches.path;\n    }\n    const maxAuthLength = Math.floor(maxLength / 2) - 3;\n    const maxPathLength = Math.floor(maxLength / 2) - 5;\n    // maybe we could fine tune these numbers\n    const p = matches.path.split(\"/\");\n    if (matches.authority.length > maxAuthLength) {\n        return matches.authority.substr(0, maxAuthLength) + \"...\" + p[p.length - 1].substr(-maxPathLength);\n    }\n    return matches.authority + \"...\" + p[p.length - 1].substr(-maxPathLength);\n}\n/**\n * Helper to add a precision to `Math.round`.\n *\n * _defaults to 2 decimals_\n * @param  {number} num - number to round\n * @param  {number} [decimals=2] - decimal precision to round to\n */\nexport function roundNumber(num, decimals = 2) {\n    return Math.round(num * Math.pow(10, decimals)) / Math.pow(10, decimals);\n}\n/**\n *\n * Checks if `status` code is `>= lowerBound` and `<= upperBound`\n * @param  {number} status  HTTP status code\n * @param  {number} lowerBound  inclusive lower bound\n * @param  {number} upperBound  inclusive upper bound\n */\nexport function isInStatusCodeRange(status, lowerBound, upperBound) {\n    return status >= lowerBound && status <= upperBound;\n}\n/** precompiled regex */\nconst cssClassRegEx = /[^a-z-]/g;\n/**\n * Converts a seed string to a CSS class by stripping out invalid characters\n * @param {string} seed string to base the CSS class off\n */\nexport function toCssClass(seed) {\n    return seed.toLowerCase().replace(cssClassRegEx, \"\");\n}\n/**\n * Conditionally pluralizes (adding 's') `word` based on `count`\n * @param {string} word word to pluralize\n * @param {number} count counter to deceide weather or not `word` should be pluralized\n */\nexport function pluralize(word, count) {\n    return word + (count > 1 ? \"s\" : \"\");\n}\n/**\n * Check if event is `tab` + `shift` key, to move to previous input element\n * @param {KeyboardEvent} evt Keyboard event\n */\nexport function isTabUp(evt) {\n    return evt.which === 9 && evt.shiftKey;\n}\n/**\n * Check if event is only `tab` key, to move to next input element\n * @param {KeyboardEvent} evt Keyboard event\n */\nexport function isTabDown(evt) {\n    return evt.which === 9 && !evt.shiftKey;\n}\n", "import { roundNumber } from \"./misc\";\n/**\n * Type safe and null safe way to transform, filter and format an input value, e.g. parse a Date from a string,\n * rejecting invalid dates, and formatting it as a localized string. If the input value is undefined, or the parseFn\n * returns undefined, the function returns undefined.\n * @param input\n * @param parseFn an optional function to transform and/or filter the input value.\n * @param formatFn an optional function to format the parsed input value.\n * @returns {string} a formatted string representation of the input, or undefined.\n */\nexport function parseAndFormat(input, parseFn, formatFn = toString) {\n    if (input === undefined) {\n        return undefined;\n    }\n    const parsed = parseFn(input);\n    if (parsed === undefined) {\n        return undefined;\n    }\n    return formatFn(parsed);\n}\nfunction toString(source) {\n    if (source[\"toString\"] && typeof source[\"toString\"] === \"function\") {\n        return source.toString();\n    }\n    else {\n        throw TypeError(`Can't convert type ${typeof source} to string`);\n    }\n}\nexport function parseNonEmpty(input) {\n    return input.trim().length > 0 ? input : undefined;\n}\nexport function parseDate(input) {\n    const date = new Date(input);\n    if (isNaN(date.getTime())) {\n        return undefined;\n    }\n    return date;\n}\nexport function parseNonNegative(input) {\n    if (input === undefined || input === null) {\n        return undefined;\n    }\n    const filter = (n) => (n >= 0);\n    return parseToNumber(input, filter);\n}\nexport function parsePositive(input) {\n    if (input === undefined || input === null) {\n        return undefined;\n    }\n    const filter = (n) => (n > 0);\n    return parseToNumber(input, filter);\n}\nfunction parseToNumber(input, filterFn) {\n    const filter = (n) => filterFn(n) ? n : undefined;\n    if (typeof input === \"string\") {\n        const n = parseInt(input, 10);\n        if (!isFinite(n)) {\n            return undefined;\n        }\n        return filter(n);\n    }\n    return filter(input);\n}\nexport function formatMilliseconds(millis) {\n    return (millis !== undefined) ? `${roundNumber(millis, 3)} ms` : undefined;\n}\nconst secondsPerMinute = 60;\nconst secondsPerHour = 60 * secondsPerMinute;\nconst secondsPerDay = 24 * secondsPerHour;\nexport function formatSeconds(seconds) {\n    if (seconds === undefined) {\n        return undefined;\n    }\n    const raw = `${roundNumber(seconds, 3)} s`;\n    if (seconds > secondsPerDay) {\n        return `${raw} (~${roundNumber(seconds / secondsPerDay, 0)} days)`;\n    }\n    if (seconds > secondsPerHour) {\n        return `${raw} (~${roundNumber(seconds / secondsPerHour, 0)} hours)`;\n    }\n    if (seconds > secondsPerMinute) {\n        return `${raw} (~${roundNumber(seconds / secondsPerMinute, 0)} minutes)`;\n    }\n    return raw;\n}\nexport function formatDateLocalized(date) {\n    return (date !== undefined) ? `${date.toUTCString()}<br/>(local time: ${date.toLocaleString()})` : undefined;\n}\nconst bytesPerKB = 1024;\nconst bytesPerMB = 1024 * bytesPerKB;\nexport function formatBytes(bytes) {\n    if (bytes === undefined) {\n        return \"\";\n    }\n    const raw = `${bytes} bytes`;\n    if (bytes >= bytesPerMB) {\n        return `${raw} (~${roundNumber(bytes / bytesPerMB, 1)} MB)`;\n    }\n    if (bytes >= bytesPerKB) {\n        return `${raw} (~${roundNumber(bytes / bytesPerKB, 0)} kB)`;\n    }\n    return raw;\n}\n/** HTML character to escape */\nconst htmlCharMap = {\n    \"\\\"\": \"&quot\",\n    \"&\": \"&amp\",\n    \"'\": \"&#039\",\n    \"<\": \"&lt\",\n    \">\": \"&gt\",\n};\n/**\n * Reusable regex to escape HTML chars\n * Combined to improve performance\n */\nconst htmlChars = new RegExp(Object.keys(htmlCharMap).join(\"|\"), \"g\");\n/**\n * Escapes unsafe characters in a string to render safely in HTML\n * @param  {string} unsafe - string to be rendered in HTML\n */\nexport function escapeHtml(unsafe = \"\") {\n    if (unsafe === null || unsafe === undefined) {\n        return \"\"; // See https://github.com/micmro/PerfCascade/issues/217\n    }\n    if (typeof unsafe !== \"string\") {\n        if (typeof unsafe[\"toString\"] === \"function\") {\n            unsafe = unsafe.toString();\n        }\n        else {\n            throw TypeError(\"Invalid parameter\");\n        }\n    }\n    return unsafe.replace(htmlChars, (match) => {\n        return htmlCharMap[match];\n    });\n}\n/** Whitelist of save-ish URL chars */\nconst unSafeUrlChars = new RegExp(\"[^-A-Za-z0-9+&@#/%?=~_|!:,.;\\(\\)]\", \"g\");\n/** returns a cleaned http:// or https:// based URL  */\nexport function sanitizeUrlForLink(unsafeUrl) {\n    const cleaned = unsafeUrl.replace(unSafeUrlChars, \"_\");\n    if (cleaned.indexOf(\"http://\") === 0 || cleaned.indexOf(\"https://\") === 0) {\n        return cleaned;\n    }\n    // tslint:disable-next-line:no-console\n    console.warn(\"skipped link, due to potentially unsafe url\", unsafeUrl);\n    return \"\";\n}\n/** whitelist basic chars */\nconst requestTypeTypeRegEx = new RegExp(\"[^a-zA-Z0-9]\", \"g\");\n/**  returns cleaned sting - stipps out not a-zA-Z0-9 */\nexport function sanitizeAlphaNumeric(unsafe) {\n    return unsafe.toString().replace(requestTypeTypeRegEx, \"\");\n}\n/** Ensures `input` is casted to `number` */\nexport function toInt(input) {\n    if (typeof input === \"number\") {\n        return input;\n    }\n    else if (typeof input === \"string\") {\n        return parseInt(input, 10);\n    }\n    else {\n        return undefined;\n    }\n}\n/** Validates the `ChartOptions` attributes types */\nexport function validateOptions(options) {\n    const validateInt = (name) => {\n        const val = toInt(options[name]);\n        if (val === undefined) {\n            throw TypeError(`option \"${name}\" needs to be a number`);\n        }\n        options[name] = val;\n    };\n    const ensureBoolean = (name) => {\n        options[name] = !!options[name];\n    };\n    validateInt(\"leftColumnWidth\");\n    validateInt(\"rowHeight\");\n    validateInt(\"selectedPage\");\n    ensureBoolean(\"showAlignmentHelpers\");\n    ensureBoolean(\"showIndicatorIcons\");\n    ensureBoolean(\"showMimeTypeIcon\");\n    return options;\n}\n", "/**\n * Creates the html for diagrams legend\n */\nexport function makeLegend() {\n    const ulNode = document.createElement(\"ul\");\n    ulNode.className = \"resource-legend\";\n    ulNode.innerHTML = `\n        <li class=\"legend-blocked\" title=\"Time spent in a queue waiting for a network connection.\">Blocked</li>\n        <li class=\"legend-dns\" title=\"DNS resolution time.\">DNS</li>\n        <li class=\"legend-connect\" title=\"Time required to create TCP connection.\">Connect</li>\n        <li class=\"legend-ssl\" title=\"Time required for SSL/TLS negotiation.\">SSL (TLS)</li>\n        <li class=\"legend-send\" title=\"Time required to send HTTP request to the server.\">Send</li>\n        <li class=\"legend-wait\" title=\"Waiting for a response from the server.\">Wait</li>\n        <li class=\"legend-receive\"\n        title=\"Time required to read entire response from the server (or cache).\">Receive</li>`;\n    return ulNode;\n}\n", "/**\n * Adds class `className` to `el`\n * @param  {Element} el\n * @param  {string} className\n */\nexport function addClass(el, className) {\n    const classList = el.classList;\n    if (classList) {\n        className.split(\" \").forEach((c) => classList.add(c));\n    }\n    else {\n        // IE doesn't support classList in SVG - also no need for duplication check i.t.m.\n        el.setAttribute(\"class\", el.getAttribute(\"class\") + \" \" + className);\n    }\n    return el;\n}\n/**\n * Removes class `className` from `el`\n * @param  {Element} el\n * @param  {string} className\n */\nexport function removeClass(el, className) {\n    const classList = el.classList;\n    if (classList) {\n        classList.remove(className);\n    }\n    else {\n        // IE doesn't support classList in SVG\n        el.setAttribute(\"class\", (el.getAttribute(\"class\") || \"\")\n            .replace(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\", \"g\"), \"$2\"));\n    }\n    return el;\n}\n/**\n * Helper to recursively find parent with the `className` class\n * @param base `Element` to start from\n * @param className class that the parent should have\n */\nexport function getParentByClassName(base, className) {\n    if (typeof base.closest === \"function\") {\n        return base.closest(`.${className}`);\n    }\n    while (base) {\n        if (base.classList.contains(className)) {\n            return base;\n        }\n        base = base.parentElement;\n    }\n    return null;\n}\n/**\n * Removes all child DOM nodes from `el`\n * @param  {Element} el\n */\nexport function removeChildren(el) {\n    while (el.hasChildNodes()) {\n        el.removeChild(el.lastChild);\n    }\n    return el;\n}\n/**\n * Get last element of `NodeList`\n * @param list NodeListOf e.g. return value of `getElementsByClassName`\n */\nexport function getLastItemOfNodeList(list) {\n    if (!list || list.length === 0) {\n        return undefined;\n    }\n    return list.item(list.length - 1);\n}\n/** Calls `fn` with each element of `els` */\nexport function forEachNodeList(els, fn) {\n    Array.prototype.forEach.call(els, fn);\n}\n/** Sets a CSS style property, but only if property exists on `el` */\nexport function safeSetStyle(el, property, value) {\n    if (property in el.style) {\n        el.style[property] = value;\n    }\n    else {\n        // tslint:disable-next-line:no-console\n        console.warn(new Error(`Trying to set non-existing style ` +\n            `${property} = ${value} on a <${el.tagName.toLowerCase()}>.`));\n    }\n}\n/** Sets an attribute, but only if `name` exists on `el` */\nexport function safeSetAttribute(el, name, value) {\n    if (!(name in el)) {\n        // tslint:disable-next-line:no-console\n        console.warn(new Error(`Trying to set non-existing attribute ` +\n            `${name} = ${value} on a <${el.tagName.toLowerCase()}>.`));\n    }\n    el.setAttributeNS(\"\", name, value);\n}\n/** Sets multiple CSS style properties, but only if property exists on `el` */\nexport function safeSetStyles(el, css) {\n    Object.keys(css).forEach((property) => {\n        safeSetStyle(el, property, css[property].toString());\n    });\n}\n/** Sets attributes, but only if they exist on `el` */\nexport function safeSetAttributes(el, attributes) {\n    Object.keys(attributes).forEach((name) => {\n        safeSetAttribute(el, name, attributes[name].toString());\n    });\n}\nexport function makeHtmlEl() {\n    const html = document.createElement(\"html\");\n    html.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns\", \"http://www.w3.org/2000/xmlns/\");\n    return html;\n}\nexport function makeBodyEl(css = {}, innerHTML = \"\") {\n    const body = document.createElement(\"body\");\n    body.setAttribute(\"xmlns\", \"http://www.w3.org/1999/xhtml\");\n    safeSetStyles(body, css);\n    body.innerHTML = innerHTML;\n    return body;\n}\n", "import { removeChildren } from \"../helpers/dom\";\n/** Class to keep track of run of a multi-run har is beeing shown  */\nexport default class Paging {\n    constructor(doc, selectedPageIndex = 0) {\n        this.doc = doc;\n        this.selectedPageIndex = selectedPageIndex;\n        this.onPageUpdateCbs = [];\n        if (selectedPageIndex >= this.doc.pages.length) {\n            // fall back to last item if doc has too few pages.\n            this.selectedPageIndex = this.doc.pages.length - 1;\n        }\n    }\n    /**\n     * Returns number of pages\n     * @returns number - number of pages in current doc\n     */\n    getPageCount() {\n        return this.doc.pages.length;\n    }\n    /**\n     * Returns selected pages\n     * @returns WaterfallData - currently selected page\n     */\n    getSelectedPage() {\n        return this.doc.pages[this.selectedPageIndex];\n    }\n    /**\n     * Returns index of currently selected page\n     * @returns number - index of current page (0 based)\n     */\n    getSelectedPageIndex() {\n        return this.selectedPageIndex;\n    }\n    /**\n     * Update which pageIndex is currently update.\n     * Published `onPageUpdate`\n     * @param  {number} pageIndex\n     */\n    setSelectedPageIndex(pageIndex) {\n        if (this.selectedPageIndex === pageIndex) {\n            return;\n        }\n        if (pageIndex < 0 || pageIndex >= this.getPageCount()) {\n            throw new Error(\"Page does not exist - Invalid pageIndex selected\");\n        }\n        this.selectedPageIndex = pageIndex;\n        const selectedPage = this.doc.pages[this.selectedPageIndex];\n        this.onPageUpdateCbs.forEach((cb) => {\n            cb(this.selectedPageIndex, selectedPage);\n        });\n    }\n    /**\n     * Register subscriber callbacks to be called when the pageindex updates\n     * @param  {OnPagingCb} cb\n     * @returns number - index of the callback\n     */\n    onPageUpdate(cb) {\n        if (this.getPageCount() > 1) {\n            return this.onPageUpdateCbs.push(cb);\n        }\n        return undefined;\n    }\n    /**\n     * hooks up select box with paging options\n     * @param  {HTMLSelectElement} selectbox\n     */\n    initPagingSelectBox(selectbox) {\n        const self = this;\n        if (this.getPageCount() <= 1) {\n            selectbox.style.display = \"none\";\n            return;\n        }\n        // remove all existing options, like placeholders\n        removeChildren(selectbox);\n        this.doc.pages.forEach((p, i) => {\n            const option = new Option(p.title, i.toString(), false, i === this.selectedPageIndex);\n            selectbox.add(option);\n        });\n        selectbox.style.display = \"block\";\n        selectbox.addEventListener(\"change\", (evt) => {\n            const val = parseInt(evt.target.value, 10);\n            self.setSelectedPageIndex(val);\n        });\n    }\n}\n", "/** Partial function that buils a filter predicate function */\nconst matchHeaderPartialFn = (lowercaseName) => {\n    return (header) => header.name.toLowerCase() === lowercaseName;\n};\n/**\n * @param headers List of `Header` to search in\n * @param headerName Name of `Header` to find\n */\nexport function hasHeader(headers, headerName) {\n    const headerFilter = matchHeaderPartialFn(headerName.toLowerCase());\n    return headers.some(headerFilter);\n}\n/** feature detection if browser supports `find` for arrays */\nconst browserHasFind = !!Array.prototype[\"find\"];\n/**\n * Returns the fist instances of `headerName` in `headers`\n * @param headers List of `Header` to search in\n * @param headerName Name of `Header` to find\n */\nexport function getHeader(headers, headerName) {\n    const headerFilter = matchHeaderPartialFn(headerName.toLowerCase());\n    let firstItem;\n    if (browserHasFind) {\n        firstItem = headers[\"find\"](headerFilter);\n    }\n    else {\n        firstItem = headers.map(headerFilter).pop();\n    }\n    return firstItem ? firstItem.value : undefined;\n}\n/**\n * Returns all instances of `headerName` in `headers` as `KvTuple`\n * @param headers List of `Header` to search in\n * @param headerName Name of `Header` to find\n */\nexport function getHeaders(headers, headerName) {\n    const headerFilter = matchHeaderPartialFn(headerName.toLowerCase());\n    return headers.filter(headerFilter).map((h) => [headerName, h.value]);\n}\n", "/**\n * Heuristics used at parse-time for HAR data\n */\nimport { hasHeader } from \"../helpers/har\";\nimport * as misc from \"../helpers/misc\";\nimport { toInt } from \"../helpers/parse\";\nfunction isCompressible(entry, requestType) {\n    const minCompressionSize = 1000;\n    // small responses\n    if (entry.response.bodySize < minCompressionSize) {\n        return false;\n    }\n    if (misc.contains([\"html\", \"css\", \"javascript\", \"svg\", \"plain\"], requestType)) {\n        return true;\n    }\n    const mime = entry.response.content.mimeType;\n    const compressableMimes = [\"application/vnd.ms-fontobject\",\n        \"application/x-font-opentype\",\n        \"application/x-font-truetype\",\n        \"application/x-font-ttf\",\n        \"application/xml\",\n        \"font/eot\",\n        \"font/opentype\",\n        \"font/otf\",\n        \"image/vnd.microsoft.icon\"];\n    if (misc.contains([\"text\"], mime.split(\"/\")[0]) || misc.contains(compressableMimes, mime.split(\";\")[0])) {\n        return true;\n    }\n    return false;\n}\n/**\n * Checks if response could be cacheable, but isn't due to lack of cache header.\n * @param {Entry} entry -  the waterfall entry.\n * @returns {boolean}\n */\nfunction hasCacheIssue(entry) {\n    if (!entry.request.method || entry.request.method.toLowerCase() !== \"get\") {\n        return false;\n    }\n    if (entry.response.status === 204 || !misc.isInStatusCodeRange(entry.response.status, 200, 299)) {\n        return false;\n    }\n    const headers = entry.response.headers;\n    return !(hasHeader(headers, \"Cache-Control\") || hasHeader(headers, \"Expires\"));\n}\nfunction hasCompressionIssue(entry, requestType) {\n    const headers = entry.response.headers;\n    return (!hasHeader(headers, \"Content-Encoding\") && isCompressible(entry, requestType));\n}\n/** Checks if the resource uses https */\nfunction isSecure(entry) {\n    return entry.request.url.indexOf(\"https://\") === 0;\n}\nfunction isInitialRedirect(entry, index) {\n    return index === 0 && !!entry.response.redirectURL;\n}\nfunction isPush(entry) {\n    if (entry._was_pushed === undefined || entry._was_pushed === null) {\n        return false;\n    }\n    return toInt(entry._was_pushed) === 1;\n}\n/**\n * Check if the document (disregarding any initial http->https redirects) is loaded over a secure connection.\n * @param {Entry[]} data - the waterfall entries data.\n * @returns {boolean}\n */\nexport function documentIsSecure(data) {\n    const rootDocument = data.filter((e) => !e.response.redirectURL)[0];\n    // check if request is a redirect chain\n    if (rootDocument === undefined) {\n        return (data.length > 0) ? isSecure(data[0]) : false;\n    }\n    return isSecure(rootDocument);\n}\n/** Scans `entry` for noteworthy issues or infos and highlights them */\nexport function collectIndicators(entry, index, docIsTLS, requestType) {\n    // const harEntry = entry;\n    const output = [];\n    if (isPush(entry)) {\n        output.push({\n            description: \"Response was pushed by the server using HTTP2 push.\",\n            displayType: \"inline\",\n            icon: \"push\",\n            id: \"push\",\n            title: \"Response was pushed by the server\",\n            type: \"info\",\n        });\n    }\n    if (docIsTLS && !(isSecure(entry) || isInitialRedirect(entry, index))) {\n        output.push({\n            description: \"Insecure request, it should use HTTPS.\",\n            displayType: \"icon\",\n            id: \"noTls\",\n            title: \"Insecure Connection\",\n            type: \"error\",\n        });\n    }\n    if (hasCacheIssue(entry)) {\n        output.push({\n            description: \"The response is not allow to be cached on the client. Consider setting 'Cache-Control' headers.\",\n            displayType: \"icon\",\n            id: \"noCache\",\n            title: \"Response not cached\",\n            type: \"error\",\n        });\n    }\n    if (hasCompressionIssue(entry, requestType)) {\n        output.push({\n            description: \"The response is not compressed. Consider enabling HTTP compression on your server.\",\n            displayType: \"icon\",\n            id: \"noGzip\",\n            title: \"no gzip\",\n            type: \"error\",\n        });\n    }\n    if (!entry.response.content.mimeType &&\n        misc.isInStatusCodeRange(entry.response.status, 200, 299) &&\n        entry.response.status !== 204) {\n        output.push({\n            description: \"Response doesn't contain a 'Content-Type' header.\",\n            displayType: \"icon\",\n            id: \"warning\",\n            title: \"No MIME Type defined\",\n            type: \"warning\",\n        });\n    }\n    return output;\n}\n", "import { pluralize } from \"../../helpers/misc\";\n/**\n * Convinience helper to create a new `Icon`\n *\n * _Width of icons is fixed_\n */\nexport function makeIcon(type, title) {\n    return { type, title, width: 20 };\n}\n/**\n * Gets the Indicators in Icon format\n * @param  {WaterfallEntry} entry\n * @returns {Icon[]}\n */\nexport function getIndicatorIcons(entry) {\n    const indicators = entry.responseDetails.indicators.filter((i) => i.displayType === \"icon\");\n    if (indicators.length === 0) {\n        return [];\n    }\n    const combinedTitle = [];\n    let icon = \"\";\n    const errors = indicators.filter((i) => i.type === \"error\");\n    const warnings = indicators.filter((i) => i.type === \"warning\");\n    const info = indicators.filter((i) => i.type !== \"error\" && i.type !== \"warning\");\n    if (errors.length > 0) {\n        combinedTitle.push(pluralize(\"Error\", errors.length) + \":\\n \" + errors.map((e) => e.title).join(\"\\n\"));\n        icon = \"error\";\n    }\n    if (warnings.length > 0) {\n        combinedTitle.push(pluralize(\"Warning\", warnings.length) + \":\\n\" + warnings.map((w) => w.title).join(\"\\n\"));\n        icon = icon || \"warning\";\n    }\n    if (info.length > 0) {\n        combinedTitle.push(`Info:\\n${info.map((i) => i.title).join(\"\\n\")}`);\n        if (!icon && info.length === 1) {\n            icon = info[0].icon || info[0].type;\n        }\n        else {\n            icon = icon || \"info\";\n        }\n    }\n    return [makeIcon(icon, combinedTitle.join(\"\\n\"))];\n}\n", "import { isInStatusCodeRange, toCssClass } from \"../helpers/misc\";\nimport { escapeHtml, sanitizeAlphaNumeric } from \"../helpers/parse\";\nimport { makeIcon } from \"../waterfall/row/svg-indicators\";\n/** Escapes all HTML except linebreaks `<br/>` */\nconst escapeHtmlLight = (str) => escapeHtml(str).replace(\"&ltbr/&gt\", \"<br/>\");\n/**\n * Converts `dlKeyValues` to the contennd a definition list, without the outer `<dl>` tags\n * @param {SafeKvTuple[]} dlKeyValues array of Key/Value pair\n * @param {boolean} [addClass=false] if `true` the key in `dlKeyValues`\n * is converted to a class name andd added to the `<dt>`\n * @returns {string} stringified HTML definition list\n */\nexport function makeDefinitionList(dlKeyValues, addClass = false) {\n    const makeClass = (key) => {\n        if (!addClass) {\n            return \"\";\n        }\n        const className = toCssClass(key) || \"no-colour\";\n        return `class=\"${className}\"`;\n    };\n    return dlKeyValues\n        .map((tuple) => `\n      <dt ${makeClass(tuple[0])}>${escapeHtmlLight(tuple[0])}</dt>\n      <dd>${escapeHtmlLight(tuple[1])}</dd>\n    `).join(\"\");\n}\n/**\n * Convert a MIME type into it's WPT style request type (font, script etc)\n * @param {string} mimeType - a HTTP headers mime-type\n */\nexport function mimeToRequestType(mimeType) {\n    if (mimeType === undefined) {\n        return \"other\";\n    }\n    const types = mimeType.split(\"/\");\n    let part2 = types[1];\n    // take care of text/css; charset=UTF-8 etc\n    if (part2 !== undefined) {\n        part2 = part2.indexOf(\";\") > -1 ? part2.split(\";\")[0] : part2;\n    }\n    switch (types[0]) {\n        case \"image\": {\n            if (part2 === \"svg+xml\") {\n                return \"svg\";\n            }\n            return \"image\";\n        }\n        case \"font\": return \"font\";\n        case \"video\": return \"video\";\n        case \"audio\": return \"audio\";\n        default: break;\n    }\n    switch (part2) {\n        case \"xml\":\n        case \"html\": return \"html\";\n        case \"plain\": return \"plain\";\n        case \"css\": return \"css\";\n        case \"vnd.ms-fontobject\":\n        case \"font-woff\":\n        case \"font-woff2\":\n        case \"x-font-truetype\":\n        case \"x-font-opentype\":\n        case \"x-font-woff\": return \"font\";\n        case \"javascript\":\n        case \"x-javascript\":\n        case \"script\":\n        case \"json\": return \"javascript\";\n        case \"x-shockwave-flash\": return \"flash\";\n        default: return \"other\";\n    }\n}\n/** helper to create a `WaterfallEntry` */\nexport function createWaterfallEntry(url, start, end, segments = [], responseDetails, tabs) {\n    const total = (typeof start !== \"number\" || typeof end !== \"number\") ? NaN : (end - start);\n    return {\n        end,\n        responseDetails,\n        segments,\n        start,\n        tabs,\n        total,\n        url,\n    };\n}\n/** helper to create a `WaterfallEntryTiming` */\nexport function createWaterfallEntryTiming(type, start, end, chunks) {\n    const total = (typeof start !== \"number\" || typeof end !== \"number\") ? NaN : (end - start);\n    const typeClean = sanitizeAlphaNumeric(type);\n    return {\n        end,\n        start,\n        total,\n        type: typeClean,\n        chunks,\n    };\n}\n/**\n * Creates the css classes for a row based on it's status code\n * @param  {number} status - HTTP status code\n * @param  {string} renderBlockingStatus - Render blocking status (Chrome only)\n * @param  {boolean} largestContentfulPaintStatus -if largest contentful paint\n * @returns string - concatinated css class names\n */\nexport function makeRowCssClasses(status, renderBlockingStatus, largestContentfulPaintStatus) {\n    const classes = [\"row-item\"];\n    if (isInStatusCodeRange(status, 500, 599)) {\n        classes.push(\"status5xx\");\n    }\n    else if (isInStatusCodeRange(status, 400, 499)) {\n        classes.push(\"status4xx\");\n    }\n    else if (status !== 304 &&\n        isInStatusCodeRange(status, 300, 399)) {\n        // 304 == Not Modified, so not an issue\n        classes.push(\"status3xx\");\n    }\n    else if (status === 0 || status === undefined) {\n        // eg connection refused, or connection timeout etc then the http status code defaults to 0\n        classes.push(\"status0\");\n    }\n    if (largestContentfulPaintStatus === true) {\n        classes.push(\"largestContentfulPaint\");\n    }\n    if (renderBlockingStatus === \"potentially_blocking\") {\n        classes.push(\"potentiallyRenderBlocking\");\n    }\n    else if (renderBlockingStatus === \"blocking\" || renderBlockingStatus === \"in_body_parser_blocking\") {\n        classes.push(\"renderBlocking\");\n    }\n    return classes.join(\" \");\n}\n/**\n * Create icon that fits the response and highlights issues\n *\n * @param  {number} status - HTTP status code\n * @param  {string} statusText - HTTP status text\n * @param  {RequestType} requestType\n * @param  {string=\"\"} redirectURL - pass the URL for `301` or `302`\n * @returns Icon\n */\nexport function makeMimeTypeIcon(status, statusText, requestType, redirectURL = \"\") {\n    // highlight redirects\n    if (!!redirectURL) {\n        const url = encodeURI(redirectURL.split(\"?\")[0] || \"\");\n        return makeIcon(\"err3xx\", `${status} response status: Redirect to ${escapeHtml(url)}...`);\n    }\n    else if (isInStatusCodeRange(status, 400, 499)) {\n        return makeIcon(\"err4xx\", `${status} response status: ${escapeHtml(statusText)}`);\n    }\n    else if (isInStatusCodeRange(status, 500, 599)) {\n        return makeIcon(\"err5xx\", `${status} response status: ${escapeHtml(statusText)}`);\n    }\n    else if (status === 204) {\n        return makeIcon(\"plain\", \"No content\");\n    }\n    else {\n        return makeIcon(sanitizeAlphaNumeric(requestType), escapeHtml(requestType));\n    }\n}\n/**\n * Flattens out a second level of `KvTuple` nesting (and removed empty and `undefined` entries)\n *\n * @param nestedKvPairs - nested `KvTuple`s (possibly sub-nested)\n */\nexport const flattenKvTuple = (nestedKvPairs) => {\n    const returnKv = [];\n    nestedKvPairs.forEach((maybeKv) => {\n        if (maybeKv === undefined || maybeKv.length === 0) {\n            return;\n        }\n        if (Array.isArray(maybeKv[0])) {\n            returnKv.push(...maybeKv);\n            return;\n        }\n        returnKv.push(maybeKv);\n    });\n    return returnKv;\n};\n", "import { getHeader, getHeaders } from \"../helpers/har\";\nimport { formatBytes, formatDateLocalized, formatMilliseconds, formatSeconds, parseAndFormat, parseDate, parseNonEmpty, parseNonNegative, parsePositive, } from \"../helpers/parse\";\nimport { flattenKvTuple } from \"./helpers\";\nconst byteSizeProperty = (title, input) => {\n    return [title, parseAndFormat(input, parsePositive, formatBytes)];\n};\nconst countProperty = (title, input) => {\n    return [title, parseAndFormat(input, parsePositive)];\n};\n/** Predicate to filter out invalid or empty `KvTuple` */\nconst notEmpty = (kv) => {\n    return kv.length > 1 && kv[1] !== undefined && kv[1] !== \"\";\n};\nfunction parseGeneralDetails(entry, startRelative, requestID) {\n    return [\n        [\"Request Number\", `#${requestID}`],\n        [\"Started\", new Date(entry.startedDateTime).toLocaleString() + ((startRelative > 0) ?\n                \" (\" + formatMilliseconds(startRelative) + \" after page request started)\" : \"\")],\n        [\"Duration\", formatMilliseconds(entry.time)],\n        [\"Error/Status Code\", entry.response.status + \" \" + entry.response.statusText],\n        [\"Server IPAddress\", entry.serverIPAddress],\n        [\"Connection\", entry.connection],\n        [\"Browser Priority\", entry._priority || entry._initialPriority],\n        [\"Was pushed\", parseAndFormat(entry._was_pushed, parsePositive, () => \"yes\")],\n        [\"Initiator (Loaded by)\", entry._initiator],\n        [\"Initiator Line\", entry._initiator_line],\n        [\"Initiator Type\", entry._initiator_type],\n        [\"Host\", getHeader(entry.request.headers, \"Host\")],\n        [\"IP\", entry._ip_addr],\n        [\"Client Port\", parseAndFormat(entry._client_port, parsePositive)],\n        [\"Expires\", entry._expires],\n        [\"Cache Time\", parseAndFormat(entry._cache_time, parsePositive, formatSeconds)],\n        [\"CDN Provider\", entry._cdn_provider],\n        [\"Render blocking\", entry._renderBlocking],\n        [\"Is Largest Contentful Paint\", entry._isLCP ? \"yes\" : undefined],\n        byteSizeProperty(\"ObjectSize\", entry._objectSize),\n        byteSizeProperty(\"Bytes In (downloaded)\", entry._bytesIn),\n        byteSizeProperty(\"Bytes Out (uploaded)\", entry._bytesOut),\n        byteSizeProperty(\"JPEG Scan Count\", entry._jpeg_scan_count),\n        byteSizeProperty(\"Gzip Total\", entry._gzip_total),\n        byteSizeProperty(\"Gzip Save\", entry._gzip_save),\n        byteSizeProperty(\"Minify Total\", entry._minify_total),\n        byteSizeProperty(\"Minify Save\", entry._minify_save),\n        byteSizeProperty(\"Image Total\", entry._image_total),\n        byteSizeProperty(\"Image Save\", entry._image_save),\n    ].filter(notEmpty);\n}\nfunction parseRequestDetails(harEntry) {\n    const request = harEntry.request;\n    const stringHeader = (name) => getHeaders(request.headers, name);\n    return flattenKvTuple([\n        [\"Method\", request.method],\n        [\"HTTP Version\", request.httpVersion],\n        byteSizeProperty(\"Bytes Out (uploaded)\", harEntry._bytesOut),\n        byteSizeProperty(\"Headers Size\", request.headersSize),\n        byteSizeProperty(\"Body Size\", request.bodySize),\n        [\"Comment\", parseAndFormat(request.comment, parseNonEmpty)],\n        stringHeader(\"User-Agent\"),\n        stringHeader(\"Host\"),\n        stringHeader(\"Connection\"),\n        stringHeader(\"Accept\"),\n        stringHeader(\"Accept-Encoding\"),\n        stringHeader(\"Expect\"),\n        stringHeader(\"Forwarded\"),\n        stringHeader(\"If-Modified-Since\"),\n        stringHeader(\"If-Range\"),\n        stringHeader(\"If-Unmodified-Since\"),\n        countProperty(\"Querystring parameters count\", request.queryString.length),\n        countProperty(\"Cookies count\", request.cookies.length),\n    ]).filter(notEmpty);\n}\nfunction parseResponseDetails(entry) {\n    const response = entry.response;\n    const content = response.content;\n    const headers = response.headers;\n    const stringHeader = (title, name = title) => {\n        return getHeaders(headers, name);\n    };\n    const dateHeader = (name) => {\n        const header = getHeader(headers, name);\n        return [name, parseAndFormat(header, parseDate, formatDateLocalized)];\n    };\n    const contentLength = getHeader(headers, \"Content-Length\");\n    let contentSize;\n    if (content.size && content.size !== -1 && contentLength !== content.size.toString()) {\n        contentSize = content.size;\n    }\n    let contentType = getHeader(headers, \"Content-Type\");\n    if (entry._contentType && entry._contentType !== contentType) {\n        contentType = contentType + \" | \" + entry._contentType;\n    }\n    return flattenKvTuple([\n        [\"Status\", response.status + \" \" + response.statusText],\n        [\"HTTP Version\", response.httpVersion],\n        byteSizeProperty(\"Bytes In (downloaded)\", entry._bytesIn),\n        byteSizeProperty(\"Headers Size\", response.headersSize),\n        byteSizeProperty(\"Body Size\", response.bodySize),\n        [\"Content-Type\", contentType],\n        stringHeader(\"Cache-Control\"),\n        stringHeader(\"Content-Encoding\"),\n        dateHeader(\"Expires\"),\n        dateHeader(\"Last-Modified\"),\n        stringHeader(\"Pragma\"),\n        byteSizeProperty(\"Content-Length\", contentLength),\n        byteSizeProperty(\"Content Size\", contentSize),\n        byteSizeProperty(\"Content Compression\", content.compression),\n        stringHeader(\"Connection\"),\n        stringHeader(\"ETag\"),\n        stringHeader(\"Accept-Patch\"),\n        [\"Age\", parseAndFormat(getHeader(headers, \"Age\"), parseNonNegative, formatSeconds)],\n        stringHeader(\"Allow\"),\n        stringHeader(\"Content-Disposition\"),\n        stringHeader(\"Location\"),\n        stringHeader(\"Strict-Transport-Security\"),\n        stringHeader(\"Trailer (for chunked transfer coding)\", \"Trailer\"),\n        stringHeader(\"Transfer-Encoding\"),\n        stringHeader(\"Upgrade\"),\n        stringHeader(\"Vary\"),\n        stringHeader(\"Timing-Allow-Origin\"),\n        [\"Redirect URL\", parseAndFormat(response.redirectURL, parseNonEmpty)],\n        [\"Comment\", parseAndFormat(response.comment, parseNonEmpty)],\n    ]).filter(notEmpty);\n}\nfunction parseTimings(entry, start, end) {\n    const timings = entry.timings;\n    const optionalTiming = (timing) => parseAndFormat(timing, parseNonNegative, formatMilliseconds);\n    const total = (typeof start !== \"number\" || typeof end !== \"number\") ? undefined : (end - start);\n    let connectVal = optionalTiming(timings.connect);\n    if (timings.ssl && timings.ssl > 0 && timings.connect) {\n        // SSL time is also included in the connect field (to ensure backward compatibility with HAR 1.1).\n        connectVal = `${connectVal} (without TLS: ${optionalTiming(timings.connect - timings.ssl)})`;\n    }\n    return [\n        [\"Total\", formatMilliseconds(total)],\n        [\"Blocked\", optionalTiming(timings.blocked)],\n        [\"DNS\", optionalTiming(timings.dns)],\n        [\"Connect\", connectVal],\n        [\"SSL (TLS)\", optionalTiming(timings.ssl)],\n        [\"Send\", formatMilliseconds(timings.send)],\n        [\"Wait\", formatMilliseconds(timings.wait)],\n        [\"Receive\", formatMilliseconds(timings.receive)],\n    ].filter(notEmpty);\n}\n/**\n * Data to show in overlay tabs\n * @param  {number} requestID - request number\n * @param  {WaterfallEntry} entry\n */\nexport function getKeys(entry, requestID, startRelative, endRelative) {\n    const requestHeaders = entry.request.headers;\n    const responseHeaders = entry.response.headers;\n    const headerToKvTuple = (header) => [header.name, header.value];\n    return {\n        general: parseGeneralDetails(entry, startRelative, requestID),\n        request: parseRequestDetails(entry),\n        requestHeaders: requestHeaders.map(headerToKvTuple).filter(notEmpty),\n        response: parseResponseDetails(entry),\n        responseHeaders: responseHeaders.map(headerToKvTuple).filter(notEmpty),\n        timings: parseTimings(entry, startRelative, endRelative),\n    };\n}\n", "import { pluralize } from \"../helpers/misc\";\nimport { escapeHtml, sanitizeUrlForLink } from \"../helpers/parse\";\nimport { getKeys } from \"./extract-details-keys\";\nimport { makeDefinitionList } from \"./helpers\";\nconst escapedNewLineRegex = /\\\\n/g;\nconst newLineRegex = /\\n/g;\nconst escapedTabRegex = /\\\\t/g;\n/**\n * Generates the tabs for the details-overlay of a `Entry`\n * @param  {Entry} entry - the entry to parse\n * @param  {number} requestID\n * @param  {RequestType} requestType\n * @param  {number} startRelative - start time in ms, relative to the page's start time\n * @param  {number} endRelative - end time in ms, relative to the page's start time\n * @param  {number} detailsHeight - height of the details-overlay\n * @param  {WaterfallEntryIndicator[]} indicators\n * @returns WaterfallEntryTab\n */\nexport function makeTabs(entry, requestID, requestType, startRelative, endRelative, indicators) {\n    const tabs = [];\n    const tabsData = getKeys(entry, requestID, startRelative, endRelative);\n    tabs.push(makeGeneralTab(tabsData.general, indicators));\n    tabs.push(makeRequestTab(tabsData.request, tabsData.requestHeaders));\n    tabs.push(makeResponseTab(tabsData.response, tabsData.responseHeaders));\n    tabs.push(makeWaterfallEntryTab(\"Timings\", makeDefinitionList(tabsData.timings, true)));\n    tabs.push(makeRawData(entry));\n    if (requestType === \"image\") {\n        tabs.push(makeImgTab(entry));\n    }\n    if (entry.response.content && entry.response.content.mimeType && entry.response.content.mimeType.indexOf(\"text/\") === 0 && entry.response.content.text) {\n        tabs.push(makeContentTab(entry));\n    }\n    return tabs.filter((t) => t !== undefined);\n}\n/** Helper to create `WaterfallEntryTab` object literal  */\nfunction makeWaterfallEntryTab(title, content, tabClass = \"\") {\n    return {\n        content,\n        tabClass,\n        title,\n    };\n}\n/** Helper to create `WaterfallEntryTab` object literal that is evaluated lazily at runtime (e.g. for performance) */\nfunction makeLazyWaterfallEntryTab(title, renderContent, tabClass = \"\") {\n    return {\n        renderContent,\n        tabClass,\n        title,\n    };\n}\n/** General tab with warnings etc. */\nfunction makeGeneralTab(generalData, indicators) {\n    const mainContent = makeDefinitionList(generalData);\n    if (indicators.length === 0) {\n        return makeWaterfallEntryTab(\"General\", mainContent);\n    }\n    const general = `<h2>General</h2>\\n<dl>${mainContent}<dl>`;\n    let content = \"\";\n    // Make indicator sections\n    const errors = indicators\n        .filter((i) => i.type === \"error\")\n        .map((i) => [i.title, i.description]);\n    const warnings = indicators\n        .filter((i) => i.type === \"warning\")\n        .map((i) => [i.title, i.description]);\n    // all others\n    const info = indicators\n        .filter((i) => i.type !== \"error\" && i.type !== \"warning\")\n        .map((i) => [i.title, i.description]);\n    if (errors.length > 0) {\n        content += `<h2 class=\"no-border\">${pluralize(\"Error\", errors.length)}</h2>\n    <dl>${makeDefinitionList(errors)}</dl>`;\n    }\n    if (warnings.length > 0) {\n        content += `<h2 class=\"no-border\">${pluralize(\"Warning\", warnings.length)}</h2>\n    <dl>${makeDefinitionList(warnings)}</dl>`;\n    }\n    if (info.length > 0) {\n        content += `<h2 class=\"no-border\">Info</h2>\n    <dl>${makeDefinitionList(info)}</dl>`;\n    }\n    return makeWaterfallEntryTab(\"General\", content + general);\n}\nfunction makeRequestTab(request, requestHeaders) {\n    const content = `<dl>\n      ${makeDefinitionList(request)}\n    </dl>\n    <h2>All Request Headers</h2>\n    <dl>\n      ${makeDefinitionList(requestHeaders)}\n    </dl>`;\n    return makeWaterfallEntryTab(\"Request\", content);\n}\nfunction makeResponseTab(response, responseHeaders) {\n    const content = `<dl>\n      ${makeDefinitionList(response)}\n    </dl>\n    <h2>All Response Headers</h2>\n    <dl>\n      ${makeDefinitionList(responseHeaders)}\n    </dl>`;\n    return makeWaterfallEntryTab(\"Response\", content);\n}\n/** Tab to show the returned (text-based) payload (HTML, CSS, JS etc.) */\nfunction makeContentTab(entry) {\n    const escapedText = entry.response.content.text || \"\";\n    const unescapedText = escapedText.replace(escapedNewLineRegex, \"\\n\").replace(escapedTabRegex, \"\\t\");\n    const newLines = escapedText.match(newLineRegex);\n    const lineCount = newLines ? newLines.length : 1;\n    return makeLazyWaterfallEntryTab(`Content (${lineCount} Line${lineCount > 1 ? \"s\" : \"\"})`, \n    // class `copy-tab-data` needed to catch bubbled up click event in `details-overlay/html-details-body.ts`\n    () => `\n    <button class=\"copy-tab-data\">Copy Content to Clipboard</button>\n    <pre><code>${escapeHtml(unescapedText)}</code></pre>\n    `, \"content rendered-data\");\n}\nfunction makeRawData(entry) {\n    return makeLazyWaterfallEntryTab(\"Raw Data\", () => {\n        // class `copy-tab-data` needed to catch bubbled up click event in `details-overlay/html-details-body.ts`\n        return `\n      <button class=\"copy-tab-data\">Copy Raw Data to Clipboard</button>\n      <pre><code>${escapeHtml(JSON.stringify(entry, null, 2))}</code></pre>\n      `;\n    }, \"raw-data rendered-data\");\n}\n/** Image preview tab */\nfunction makeImgTab(entry) {\n    return makeLazyWaterfallEntryTab(\"Preview\", (detailsHeight) => `<img class=\"preview\" style=\"max-height:${(detailsHeight - 100)}px\"\n    data-src=\"${sanitizeUrlForLink(entry.request.url)}\" />`);\n}\n", "import { roundNumber } from \"../helpers/misc\";\nimport { escapeHtml, toInt } from \"../helpers/parse\";\nimport { collectIndicators, documentIsSecure } from \"./har-heuristics\";\nimport { makeTabs } from \"./har-tabs\";\nimport { createWaterfallEntry, createWaterfallEntryTiming, makeMimeTypeIcon, makeRowCssClasses, mimeToRequestType, } from \"./helpers\";\n/**\n * Transforms the full HAR doc, including all pages\n * @param  {Har} harData - raw HAR object\n * @param {HarTransformerOptions} options - HAR-parser-specific options\n * @returns WaterfallDocs\n */\nexport function transformDoc(harData, options) {\n    // make sure it's the *.log base node\n    const data = (harData[\"log\"] !== undefined ? harData[\"log\"] : harData);\n    const pages = getPages(data);\n    return {\n        pages: pages.map((_page, i) => transformPage(data, i, options)),\n    };\n}\n/**\n * Converts an HAR `Entry` into PerfCascade's `WaterfallEntry`\n *\n * @param  {Entry} entry\n * @param  {number} index - resource entry index\n * @param  {number} startRelative - entry start time relative to the document in ms\n * @param  {boolean} isTLS\n */\nfunction toWaterFallEntry(entry, index, startRelative, isTLS) {\n    startRelative = Math.round(startRelative);\n    const endRelative = Math.round(toInt(entry._all_end) || (startRelative + entry.time));\n    const requestType = mimeToRequestType(entry.response.content.mimeType);\n    const indicators = collectIndicators(entry, index, isTLS, requestType);\n    const responseDetails = createResponseDetails(entry, indicators);\n    return createWaterfallEntry(entry.request.url, startRelative, endRelative, buildDetailTimingBlocks(startRelative, entry), responseDetails, makeTabs(entry, (index + 1), requestType, startRelative, endRelative, indicators));\n}\n/** Returns the page or a mock page object */\nconst getPages = (data) => {\n    if (data.pages && data.pages.length > 0) {\n        return data.pages;\n    }\n    const statedTime = data.entries.reduce((earliest, curr) => {\n        const currDate = Date.parse(curr.startedDateTime);\n        const earliestDate = Date.parse(earliest);\n        return earliestDate < currDate ? earliest : curr.startedDateTime;\n    }, data.entries[0].startedDateTime);\n    return [{\n            id: \"\",\n            pageTimings: {},\n            startedDateTime: statedTime,\n            title: \"n/a\",\n        }];\n};\n/**\n * Transforms a HAR object into the format needed to render the PerfCascade\n * @param  {Har} harData - HAR document\n * @param {number=0} pageIndex - page to parse (for multi-page HAR)\n * @param {ChartOptions} options - HAR-parser-specific options\n * @returns WaterfallData\n */\nexport function transformPage(harData, pageIndex = 0, options) {\n    // make sure it's the *.log base node\n    const data = (harData[\"log\"] !== undefined ? harData[\"log\"] : harData);\n    const pages = getPages(data);\n    const currPage = pages[pageIndex];\n    if (!currPage.startedDateTime) {\n        throw new TypeError(`Invalid HAR document: \"log.pages[${pageIndex}].startedDateTime\" is not set`);\n    }\n    const pageStartTime = new Date(currPage.startedDateTime).getTime();\n    const pageTimings = currPage.pageTimings;\n    let doneTime = 0;\n    const isTLS = documentIsSecure(data.entries);\n    const entries = data.entries\n        .filter((entry) => {\n        // filter inline data\n        if (entry.request.url.indexOf(\"data:\") === 0 || entry.request.url.indexOf(\"javascript:\") === 0) {\n            return false;\n        }\n        if (pages.length === 1 && currPage.id === \"\") {\n            return true;\n        }\n        return entry.pageref === currPage.id;\n    })\n        .map((entry, index) => {\n        const startRelative = new Date(entry.startedDateTime).getTime() - pageStartTime;\n        if (!isNaN(startRelative)) {\n            doneTime = Math.max(doneTime, startRelative + entry.time);\n        }\n        else {\n            // tslint:disable-next-line:no-console\n            console.warn(`Entry has no valid 'startedDateTime' time`, entry.request.url, entry);\n        }\n        return toWaterFallEntry(entry, index, startRelative, isTLS);\n    });\n    const marks = getMarks(pageTimings, currPage, options);\n    // if marks happens later than doneTime, increase the doneTime\n    marks.forEach((mark) => {\n        if (mark.startTime > doneTime) {\n            doneTime = mark.startTime;\n        }\n    });\n    // if we configured fixed length from the outside, use that!\n    if (options.fixedLengthMs) {\n        doneTime = options.fixedLengthMs;\n    }\n    // Add 100ms margin to make room for labels\n    doneTime += 100;\n    return {\n        docIsTLS: isTLS,\n        durationMs: doneTime,\n        entries,\n        marks,\n        title: currPage.title,\n    };\n}\n/**\n * Extract all `Mark`s based on `PageTiming` and `UserTiming`\n * @param {PageTiming} pageTimings - HARs `PageTiming` object\n * @param {Page} currPage - active page\n * @param {ChartOptions} options - HAR options\n */\nconst getMarks = (pageTimings, currPage, options) => {\n    if (pageTimings === undefined) {\n        return [];\n    }\n    const sortFn = (a, b) => a.startTime - b.startTime;\n    const marks = Object.keys(pageTimings)\n        .filter((k) => (typeof pageTimings[k] === \"number\" && pageTimings[k] >= 0))\n        .map((k) => ({\n        name: `${escapeHtml(k.replace(/^[_]/, \"\"))} (${roundNumber(pageTimings[k], 0)} ms)`,\n        startTime: pageTimings[k],\n    }));\n    if (!options.showUserTiming) {\n        return marks.sort(sortFn);\n    }\n    return getUserTimings(currPage, options)\n        .concat(marks)\n        .sort(sortFn);\n};\n/**\n * Extract all `Mark`s based on `UserTiming`\n * @param {Page} currPage - active page\n * @param {ChartOptions} options - HAR options\n */\nconst getUserTimings = (currPage, options) => {\n    const baseFilter = options.showUserTimingEndMarker ?\n        (k) => k.indexOf(\"_userTime.\") === 0 :\n        (k) => k.indexOf(\"_userTime.\") === 0 && k.indexOf(\"_userTime.endTimer-\") !== 0;\n    let filterFn = baseFilter;\n    if (Array.isArray(options.showUserTiming)) {\n        const findTimings = options.showUserTiming;\n        filterFn = (k) => (baseFilter(k) &&\n            findTimings.indexOf(k.replace(/^_userTime\\./, \"\")) >= 0);\n    }\n    const findName = /^_userTime\\.((?:startTimer-)?(.+))$/;\n    const extractUserTiming = (k) => {\n        let name;\n        let fullName;\n        let duration;\n        [, fullName, name] = findName.exec(k) || [, undefined, undefined];\n        fullName = escapeHtml(fullName);\n        name = escapeHtml(name);\n        if (fullName !== name && currPage[`_userTime.endTimer-${name}`]) {\n            duration = currPage[`_userTime.endTimer-${name}`] - currPage[k];\n            return {\n                duration,\n                name: `${options.showUserTimingEndMarker ? fullName : name} (${currPage[k]} - ${currPage[k] + duration} ms)`,\n                startTime: currPage[k],\n                // x: currPage[k],\n            };\n        }\n        return {\n            name: fullName,\n            startTime: currPage[k],\n        };\n    };\n    return Object.keys(currPage)\n        .filter(filterFn)\n        .map(extractUserTiming);\n};\n/**\n * Create `WaterfallEntry`s to represent the sub-timings of a request\n * (\"blocked\", \"dns\", \"connect\", \"send\", \"wait\", \"receive\")\n * @param  {number} startRelative - Number of milliseconds since page load started (`page.startedDateTime`)\n * @param  {Entry} harEntry\n * @returns Array\n */\nconst buildDetailTimingBlocks = (startRelative, harEntry) => {\n    const t = harEntry.timings;\n    const chunks = harEntry._chunks || [];\n    const types = [\"blocked\", \"dns\", \"connect\", \"send\", \"wait\", \"receive\"];\n    return types.reduce((collect, key) => {\n        const time = getTimePair(key, harEntry, collect, startRelative);\n        if (time.end && time.start >= time.end) {\n            return collect;\n        }\n        // special case for 'connect' && 'ssl' since they share time\n        // http://www.softwareishard.com/blog/har-12-spec/#timings\n        if (key === \"connect\" && t.ssl && t.ssl !== -1) {\n            const sslStart = parseInt(`${harEntry[`_ssl_start`]}`, 10) || time.start;\n            const sslEnd = parseInt(`${harEntry[`_ssl_end`]}`, 10) || time.start + t.ssl;\n            const connectStart = (!!parseInt(`${harEntry[`_ssl_start`]}`, 10)) ? time.start : sslEnd;\n            return collect\n                .concat([createWaterfallEntryTiming(\"ssl\", Math.round(sslStart), Math.round(sslEnd))])\n                .concat([createWaterfallEntryTiming(key, Math.round(connectStart), Math.round(time.end))]);\n        }\n        if (key === \"receive\" && chunks && chunks.length > 0) {\n            return collect.concat([createWaterfallEntryTiming(key, Math.round(time.start), Math.round(time.end), chunks)]);\n        }\n        return collect.concat([createWaterfallEntryTiming(key, Math.round(time.start), Math.round(time.end))]);\n    }, []);\n};\n/**\n * Returns Object containing start and end time of `collect`\n *\n * @param  {string} key\n * @param  {Entry} harEntry\n * @param  {WaterfallEntry[]} collect\n * @param  {number} startRelative - Number of milliseconds since page load started (`page.startedDateTime`)\n * @returns {Object}\n */\nconst getTimePair = (key, harEntry, collect, startRelative) => {\n    let wptKey;\n    switch (key) {\n        case \"wait\":\n            wptKey = \"ttfb\";\n            break;\n        case \"receive\":\n            wptKey = \"download\";\n            break;\n        default: wptKey = key;\n    }\n    const preciseStart = parseInt(`${harEntry[`_${wptKey}_start`]}`, 10);\n    const preciseEnd = parseInt(`${harEntry[`_${wptKey}_end`]}`, 10);\n    const start = isNaN(preciseStart) ?\n        ((collect.length > 0) ? collect[collect.length - 1].end : startRelative) : preciseStart;\n    const end = isNaN(preciseEnd) ? (start + (harEntry.timings[key] ?? 0)) : preciseEnd;\n    return {\n        end: Math.round(end),\n        start: Math.round(start),\n    };\n};\n/**\n * Helper to create a requests `WaterfallResponseDetails`\n *\n * @param  {Entry} entry\n * @param  {WaterfallEntryIndicator[]} indicators\n * @returns WaterfallResponseDetails\n */\nconst createResponseDetails = (entry, indicators) => {\n    const requestType = mimeToRequestType(entry.response.content.mimeType);\n    const statusClean = toInt(entry.response.status) || 0;\n    const renderBlockingStatus = entry._renderBlocking || \"\";\n    const largestContentfulPaintStatus = entry._isLCP || false;\n    return {\n        icon: makeMimeTypeIcon(statusClean, entry.response.statusText, requestType, entry.response.redirectURL),\n        indicators,\n        requestType,\n        rowClass: makeRowCssClasses(statusClean, renderBlockingStatus, largestContentfulPaintStatus),\n        statusCode: statusClean,\n    };\n};\n", "/**\n *  SVG Helpers\n */\nimport { addClass, safeSetAttributes, safeSetStyles } from \"./dom\";\n/** Namespace for SVG Elements */\nconst svgNamespaceUri = \"http://www.w3.org/2000/svg\";\nfunction newElement(tagName, { attributes = {}, css = {}, text = \"\", className = \"\", } = {}) {\n    const element = document.createElementNS(svgNamespaceUri, tagName);\n    if (className) {\n        addClass(element, className);\n    }\n    if (text) {\n        element.textContent = text;\n    }\n    safeSetStyles(element, css);\n    safeSetAttributes(element, attributes);\n    return element;\n}\nexport function newSvg(className, attributes, css = {}) {\n    return newElement(\"svg\", { className, attributes, css });\n}\nexport function newG(className, attributes = {}, css = {}) {\n    return newElement(\"g\", { className, attributes, css });\n}\nexport function newClipPath(id) {\n    const attributes = { id };\n    return newElement(\"clipPath\", { attributes });\n}\nexport function newForeignObject(attributes, className = \"\", css = {}) {\n    return newElement(\"foreignObject\", { attributes, className, css });\n}\nexport function newA(className) {\n    return newElement(\"a\", { className });\n}\nexport function newRect(attributes, className = \"\", css = {}) {\n    return newElement(\"rect\", { attributes, className, css });\n}\nexport function newLine(attributes, className = \"\") {\n    return newElement(\"line\", { className, attributes });\n}\nexport function newTitle(text) {\n    const title = document.createElementNS(svgNamespaceUri, \"title\");\n    title.setAttribute(\"text\", text);\n    return title;\n}\nexport function newTextEl(text, attributes = {}, css = {}) {\n    return newElement(\"text\", { text, attributes, css });\n}\nexport function newPath(d) {\n    const path = document.createElementNS(svgNamespaceUri, \"path\");\n    path.setAttribute(\"d\", d);\n    return path;\n}\n/** temp SVG element for size measurements  */\nconst getTestSVGEl = (() => {\n    /** Reference to Temp SVG element for size measurements */\n    let svgTestEl;\n    let removeSvgTestElTimeout;\n    return () => {\n        // lazy init svgTestEl\n        if (svgTestEl === undefined) {\n            const attributes = {\n                className: \"water-fall-chart temp\",\n                width: \"9999px\",\n            };\n            const css = {\n                \"left\": \"0px\",\n                \"position\": \"absolute\",\n                \"top\": \"0px\",\n                \"visibility\": \"hidden\",\n                \"z-index\": \"99999\",\n            };\n            svgTestEl = newSvg(\"water-fall-chart temp\", attributes, css);\n        }\n        // needs access to body to measure size\n        // TODO: refactor for server side use\n        if (svgTestEl.parentElement === undefined) {\n            window.document.body.appendChild(svgTestEl);\n        }\n        // debounced time-deleayed cleanup, so the element can be re-used in tight loops\n        clearTimeout(removeSvgTestElTimeout);\n        removeSvgTestElTimeout = setTimeout(() => {\n            svgTestEl.parentNode.removeChild(svgTestEl);\n        }, 500);\n        return svgTestEl;\n    };\n})();\n/**\n * Measure the width of a SVGTextElement in px\n * @param  {SVGTextElement} textNode\n * @param  {boolean=false} skipClone - do not clone `textNode` and use original\n * @returns number\n */\nexport function getNodeTextWidth(textNode, skipClone = false) {\n    if ((textNode.textContent || \"\").length === 0) {\n        return 0;\n    }\n    const tmp = getTestSVGEl();\n    let tmpTextNode;\n    let shadow;\n    if (skipClone) {\n        shadow = textNode.style.textShadow;\n        tmpTextNode = textNode;\n    }\n    else {\n        tmpTextNode = textNode.cloneNode(true);\n        tmpTextNode.setAttribute(\"x\", \"0\");\n        tmpTextNode.setAttribute(\"y\", \"0\");\n    }\n    // make sure to turn of shadow for performance\n    tmpTextNode.style.textShadow = \"0\";\n    tmp.appendChild(tmpTextNode);\n    window.document.body.appendChild(tmp);\n    const width = tmpTextNode.getComputedTextLength();\n    if (skipClone && shadow !== undefined) {\n        textNode.style.textShadow = shadow;\n    }\n    return width;\n}\n", "/**\n * Convert a RequestType into a CSS class\n * @param {RequestType} requestType\n */\nexport function requestTypeToCssClass(requestType) {\n    return \"block-\" + requestType;\n}\n/**\n * Convert a TimingType into a CSS class\n * @param {TimingType} timingType\n */\nexport function timingTypeToCssClass(timingType) {\n    return \"block-\" + timingType;\n}\n", "import { makeBodyEl, makeHtmlEl } from \"../../helpers/dom\";\nimport { escapeHtml, sanitizeUrlForLink } from \"../../helpers/parse\";\n/**\n * Creates the HTML body for the overlay\n *\n * _All tab-able elements are set to `tabindex=\"-1\"` to avoid tabbing issues_\n * @param requestID ID\n * @param detailsHeight\n * @param entry\n */\nexport function createDetailsBody(requestID, detailsHeight, entry) {\n    const html = makeHtmlEl();\n    const body = makeBodyEl();\n    const tabMenu = entry.tabs.map((t) => {\n        return `<li><button class=\"tab-button\">${t.title}</button></li>`;\n    }).join(\"\\n\");\n    const tabBody = entry.tabs.map((t) => {\n        let cssClasses = \"tab\";\n        if (t.tabClass) {\n            cssClasses += ` ${t.tabClass}`;\n        }\n        let content = \"\";\n        if (t.content) {\n            content = t.content;\n        }\n        else if (typeof t.renderContent === \"function\") {\n            content = t.renderContent(detailsHeight);\n            // keep content for later\n            t.content = content;\n        }\n        else {\n            throw TypeError(\"Invalid Details Tab\");\n        }\n        return `<div class=\"tab ${cssClasses}\">${content}</div>`;\n    }).join(\"\\n\");\n    body.innerHTML = `\n    <div class=\"wrapper\">\n      <header class=\"type-${entry.responseDetails.requestType}\">\n        <h3><strong>#${requestID}</strong> <a href=\"${sanitizeUrlForLink(entry.url)}\">\n          ${escapeHtml(entry.url)}\n        </a></h3>\n        <nav class=\"tab-nav\">\n          <ul>\n            ${tabMenu}\n          </ul>\n        </nav>\n      </header>\n      ${tabBody}\n    </div>\n    `;\n    html.appendChild(body);\n    return html;\n}\n", "import { forEachNodeList } from \"../../helpers/dom\";\nimport * as svg from \"../../helpers/svg\";\nimport { createDetailsBody } from \"./html-details-body\";\nfunction createCloseButtonSvg(y) {\n    const closeBtn = svg.newA(\"info-overlay-close-btn\");\n    closeBtn.appendChild(svg.newRect({\n        height: 23,\n        width: 23,\n        x: \"100%\",\n        y,\n    }));\n    closeBtn.appendChild(svg.newTextEl(\"\", {\n        dx: 7,\n        dy: 16,\n        x: \"100%\",\n        y,\n    }));\n    closeBtn.appendChild(svg.newTitle(\"Close Overlay\"));\n    return closeBtn;\n}\nfunction createHolder(y, detailsHeight) {\n    const holder = svg.newG(\"info-overlay-holder\");\n    const bg = svg.newRect({\n        height: detailsHeight,\n        rx: 2,\n        ry: 2,\n        width: \"100%\",\n        x: \"0\",\n        y,\n    }, \"info-overlay-bg\");\n    holder.appendChild(bg);\n    return holder;\n}\n/** Shared function to copy the tabs data */\nconst onTabDataCopyClick = (event) => {\n    const btn = event.target;\n    if (btn.tagName.toLowerCase() === \"button\" && btn.classList.contains(\"copy-tab-data\")) {\n        const el = document.createElement(\"textarea\");\n        el.value = btn.nextElementSibling ? btn.nextElementSibling.innerText : \"\";\n        document.body.appendChild(el);\n        el.select();\n        el.setSelectionRange(0, 99999); // for mobile\n        document.execCommand(\"copy\");\n        document.body.removeChild(el);\n    }\n};\nexport function createRowInfoOverlay(overlay, y, detailsHeight) {\n    const requestID = overlay.index + 1;\n    const holder = createHolder(y, detailsHeight);\n    const foreignObject = svg.newForeignObject({\n        height: detailsHeight,\n        width: \"100%\",\n        x: \"0\",\n        y,\n    });\n    const body = createDetailsBody(requestID, detailsHeight, overlay.entry);\n    const closeBtn = createCloseButtonSvg(y);\n    closeBtn.addEventListener(\"click\", () => {\n        overlay.onClose(overlay.index);\n        body.removeEventListener(\"click\", onTabDataCopyClick);\n    });\n    body.addEventListener(\"click\", onTabDataCopyClick);\n    // need to re-fetch the elements to fix Edge \"Invalid Calling Object\" bug\n    const getButtons = () => body.getElementsByClassName(\"tab-button\");\n    const getTabs = () => body.getElementsByClassName(\"tab\");\n    const setTabStatus = (tabIndex) => {\n        overlay.openTabIndex = tabIndex;\n        forEachNodeList(getTabs(), (tab, j) => {\n            tab.style.display = (tabIndex === j) ? \"block\" : \"none\";\n            getButtons().item(j).classList.toggle(\"active\", (tabIndex === j));\n        });\n    };\n    forEachNodeList(getButtons(), (btn, tabIndex) => {\n        btn.addEventListener(\"click\", () => setTabStatus(tabIndex));\n    });\n    setTabStatus(overlay.openTabIndex);\n    foreignObject.appendChild(body);\n    holder.appendChild(foreignObject);\n    holder.appendChild(closeBtn);\n    return holder;\n}\n", "import { getLastItemOfNodeList, getParentByClassName, removeChildren, } from \"../../helpers/dom\";\nimport { find, isTabDown, isTabUp, } from \"../../helpers/misc\";\nimport { createRowInfoOverlay } from \"./svg-details-overlay\";\n/** Overlay (popup) instance manager */\nclass OverlayManager {\n    constructor(context) {\n        this.context = context;\n        /** Collection of currely open overlays */\n        this.openOverlays = [];\n        /**\n         * Sets the offset for a request-bar\n         * @param {SVGAElement[]} rowItems\n         * @param {number} offset\n         */\n        this.realignRow = (rowItem, offset) => {\n            rowItem.setAttribute(\"transform\", `translate(0, ${offset})`);\n        };\n    }\n    /** all open overlays height combined */\n    getCombinedOverlayHeight() {\n        return this.openOverlays.reduce((pre, curr) => pre + (curr.height || 0), 0);\n    }\n    /**\n     * Opens an overlay - rerenders others internaly\n     */\n    openOverlay(index, y, detailsHeight, entry, rowItems) {\n        if (this.openOverlays.some((o) => o.index === index)) {\n            return;\n        }\n        const self = this;\n        const newOverlay = {\n            defaultY: y,\n            entry,\n            index,\n            onClose: () => {\n                self.closeOverlay(index, detailsHeight, rowItems);\n            },\n            openTabIndex: 0,\n        };\n        this.openOverlays.push(newOverlay);\n        this.openOverlays = this.openOverlays.sort((a, b) => a.index > b.index ? 1 : -1);\n        this.renderOverlays(detailsHeight, rowItems);\n        this.context.pubSub.publishToOverlayChanges({\n            changedIndex: index,\n            combinedOverlayHeight: self.getCombinedOverlayHeight(),\n            type: \"open\",\n        });\n    }\n    /**\n     * Toggles an overlay - rerenders others\n     */\n    toggleOverlay(index, y, detailsHeight, entry, rowItems) {\n        if (this.openOverlays.some((o) => o.index === index)) {\n            this.closeOverlay(index, detailsHeight, rowItems);\n        }\n        else {\n            this.openOverlay(index, y, detailsHeight, entry, rowItems);\n        }\n    }\n    /**\n     * closes on overlay - rerenders others internally\n     */\n    closeOverlay(index, detailsHeight, rowItems) {\n        const self = this;\n        this.openOverlays.splice(this.openOverlays.reduce((prev, curr, i) => {\n            return (curr.index === index) ? i : prev;\n        }, -1), 1);\n        this.renderOverlays(detailsHeight, rowItems);\n        this.context.pubSub.publishToOverlayChanges({\n            changedIndex: index,\n            combinedOverlayHeight: self.getCombinedOverlayHeight(),\n            type: \"closed\",\n        });\n    }\n    /**\n     * Renders / Adjusts Overlays\n     *\n     * @summary this is to re-set the \"y\" position since there is a bug in chrome with\n     * tranform of an SVG and positioning/scoll of a foreignObjects\n     * @param  {number} detailsHeight\n     * @param  {SVGAElement[]} rowItems\n     */\n    renderOverlays(detailsHeight, rowItems) {\n        /** shared variable to keep track of heigth */\n        let currY = 0;\n        const updateHeight = (overlay, y, currHeight) => {\n            currY += currHeight;\n            overlay.actualY = y;\n            overlay.height = currHeight;\n        };\n        const addNewOverlay = (overlayHolder, overlay) => {\n            const y = overlay.defaultY + currY;\n            const infoOverlay = createRowInfoOverlay(overlay, y, detailsHeight);\n            // if overlay has a preview image show it\n            const previewImg = infoOverlay.querySelector(\"img.preview\");\n            if (previewImg && !previewImg.src) {\n                previewImg.setAttribute(\"src\", (previewImg.attributes.getNamedItem(\"data-src\") || { value: \"\" }).value);\n            }\n            infoOverlay.querySelector(\"a\")\n                .addEventListener(\"keydown\", OverlayManager.firstElKeypress);\n            getLastItemOfNodeList(infoOverlay.querySelectorAll(\"button\"))\n                .addEventListener(\"keydown\", OverlayManager.lastElKeypress);\n            overlayHolder.appendChild(infoOverlay);\n            updateHeight(overlay, y, infoOverlay.getBoundingClientRect().height);\n        };\n        const updateRow = (rowItem, index) => {\n            const overlay = find(this.openOverlays, (o) => o.index === index);\n            const nextRowItem = rowItem.nextElementSibling;\n            const overlayEl = nextRowItem.firstElementChild;\n            this.realignRow(rowItem, currY);\n            if (overlay === undefined) {\n                if (overlayEl && nextRowItem !== null) {\n                    // remove closed overlay\n                    nextRowItem.querySelector(\"a\")\n                        .removeEventListener(\"keydown\", OverlayManager.firstElKeypress);\n                    getLastItemOfNodeList(nextRowItem.querySelectorAll(\"button\"))\n                        .removeEventListener(\"keydown\", OverlayManager.lastElKeypress);\n                    removeChildren(nextRowItem);\n                }\n                return; // not open\n            }\n            if (overlayEl && overlay.actualY !== undefined) {\n                const bg = overlayEl.querySelector(\".info-overlay-bg\");\n                const fo = overlayEl.querySelector(\"foreignObject\");\n                const btnRect = overlayEl.querySelector(\".info-overlay-close-btn rect\");\n                const btnText = overlayEl.querySelector(\".info-overlay-close-btn text\");\n                updateHeight(overlay, overlay.defaultY + currY, overlay.height);\n                // needs updateHeight\n                bg.setAttribute(\"y\", overlay.actualY.toString());\n                fo.setAttribute(\"y\", overlay.actualY.toString());\n                btnText.setAttribute(\"y\", overlay.actualY.toString());\n                btnRect.setAttribute(\"y\", overlay.actualY.toString());\n                return;\n            }\n            addNewOverlay(rowItem.nextElementSibling, overlay);\n        };\n        rowItems.forEach(updateRow);\n    }\n}\nOverlayManager.showFullName = (el) => {\n    el.getElementsByClassName(\"row-fixed\")\n        .item(0)?.dispatchEvent(new MouseEvent(\"mouseenter\"));\n};\n/**\n * Keypress Event handler for fist el in Overlay,\n * to manage highlighting of the element above\n */\nOverlayManager.firstElKeypress = (evt) => {\n    if (isTabUp(evt)) {\n        const par = getParentByClassName(evt.target, \"row-overlay-holder\");\n        if (par && par.previousElementSibling) {\n            OverlayManager.showFullName(par.previousElementSibling);\n        }\n    }\n};\n/**\n * Keypress Event handler for last el in Overlay,\n * to manage highlighting of the element below\n */\nOverlayManager.lastElKeypress = (evt) => {\n    if (isTabDown(evt)) {\n        const par = getParentByClassName(evt.target, \"row-overlay-holder\");\n        if (par && par.nextElementSibling) {\n            OverlayManager.showFullName(par.nextElementSibling);\n        }\n    }\n};\nexport { OverlayManager, };\nexport default OverlayManager;\n", "class PubSub {\n    constructor() {\n        this.subscribers = [];\n    }\n    /** Call `fn` whenever a new change is publisched on OverlayChanges channel */\n    subscribeToOverlayChanges(fn) {\n        this.subscribers.push(fn);\n    }\n    /**\n     * Call `fn` whenever a new change for `index` are publisched\n     * on OverlayChanges channel\n     */\n    subscribeToSpecificOverlayChanges(index, fn) {\n        this.subscribers.push((evt) => {\n            if (evt.changedIndex === index) {\n                fn(evt);\n            }\n        });\n    }\n    /** Publish a change on OverlayChanges channel  */\n    publishToOverlayChanges(change) {\n        this.subscribers.forEach((fn) => fn(change));\n    }\n}\nexport { PubSub, };\nexport default PubSub;\n", "import * as svgLib from \"./svg\";\n/**\n *  SVG Icons\n */\nconst wrapSvgIcon = (x, y, title, className, scale, svgEl) => {\n    const holder = svgLib.newSvg(\"\", {\n        x,\n        y,\n    });\n    const el = svgLib.newG(`icon ${className}`, {\n        transform: `scale(${scale})`,\n    });\n    // el.innerHTML = svgDoc;\n    el.appendChild(svgEl);\n    el.appendChild(svgLib.newTitle(title));\n    holder.appendChild(el);\n    return holder;\n};\nlet noTlsIconLazy;\nexport function noTls(x, y, title, scale = 1) {\n    if (noTlsIconLazy === undefined) {\n        const d = `M18 6.216v2.77q0 .28-.206.486-.205.206-.486.206h-.693q-.28 0-.486-.206-.21-.205-.21\n  -.487v-2.77q0-1.145-.81-1.957-.813-.81-1.96-.81-1.146 0-1.957.81-.81.812-.81 1.958v2.077h1.037q.434\n  0 .737.303.302.303.302.736v6.23q0 .433-.305.736t-.737.303H1.038q-.433 0-.736-.3Q0 15.996 0\n  15.56V9.33q0-.433.303-.736t.735-.303h7.27V6.218q0-2 1.422-3.423 1.423-1.423 3.424-1.423 2\n  0 3.424 1.424Q18 4.214 18 6.216`;\n        noTlsIconLazy = svgLib.newPath(d);\n    }\n    return wrapSvgIcon(x, y, title, \"icon-no-tls\", scale, noTlsIconLazy.cloneNode(false));\n}\nlet err3xxIconLazy;\nexport function err3xx(x, y, title, scale = 1) {\n    if (err3xxIconLazy === undefined) {\n        const d = `M17 2.333V7q0 .27-.198.47-.198.197-.47.197h-4.665q-.438 0-.615-.417-.177-.406.146-.72l1.437-1.436Q11.095\n  3.667 9 3.667q-1.083 0-2.068.422-.984.42-1.703 1.14-.72.715-1.14 1.7-.426.984-.426 2.07 0 1.08.422 2.065.42.984\n  1.14 1.703.718.72 1.702 1.14.984.422 2.067.422 1.24 0 2.344-.54 1.104-.543 1.864-1.533.073-.105.24-.126.146 0\n  .26.095l1.427 1.436q.095.084.1.214.006.13-.08.234-1.133 1.376-2.75 2.13Q10.793 17 9 17q-1.625\n  0-3.104-.635-1.48-.636-2.552-1.71-1.073-1.072-1.71-2.55Q1 10.625 1 9t.635-3.104q.636-1.48 1.71-2.552\n  1.072-1.073 2.55-1.71Q7.375 1 9 1q1.53 0 2.964.578 1.432.578 2.546\n  1.63l1.355-1.343q.302-.323.73-.146.405.173.405.61z`;\n        err3xxIconLazy = svgLib.newPath(d);\n    }\n    return wrapSvgIcon(x, y, title, \"icon-redirect\", scale, err3xxIconLazy.cloneNode(false));\n}\nexport function err4xx(x, y, title, scale = 1) {\n    return warning(x, y, title, scale);\n}\nexport function err5xx(x, y, title, scale = 1) {\n    return warning(x, y, title, scale);\n}\nlet plainIconLazy;\nexport function plain(x, y, title, scale = 1) {\n    if (plainIconLazy === undefined) {\n        const d = `M15.247 4.393q.25.25.43.678.177.43.177.79v10.287q0\n  .357-.25.607t-.607.25h-12q-.357 0-.607-.25t-.25-.606V1.858q0-.358.25-.608T2.997 1h8q.357 0\n  .786.18.428.177.678.427zm-3.964-2.18V5.57h3.357q-.09-.256-.196-.364L11.65 2.41q-.108-.106-.367\n  -.196zm3.428 13.644V6.714H11q-.357 0-.607-.25t-.25-.607V2.143h-6.86v13.714H14.71zM5.57\n  8.143q0-.125.08-.205.08-.08.204-.08h6.286q.125 0 .205.08.08.08.08.205v.57q0 .126-.08.207-.08.08\n  -.205.08H5.854q-.125 0-.205-.08-.08-.08-.08-.206v-.57zm6.57 2q.125 0 .205.08.08.08.08.206V11q0\n  .125-.08.205-.08.08-.205.08H5.854q-.125 0-.205-.08-.08-.08-.08-.205v-.57q0-.126.08-.207.08-.08.2\n  -.08h6.286zm0 2.286q.125 0 .205.08.08.08.08.2v.572q0 .125-.08.205-.08.08-.205.08H5.854q-.125 0-.205\n  -.08-.08-.08-.08-.205v-.572q0-.124.08-.204.08-.08.2-.08h6.286z`;\n        plainIconLazy = svgLib.newPath(d);\n    }\n    return wrapSvgIcon(x, y, title, \"icon-plain\", scale, plainIconLazy.cloneNode(false));\n}\nlet otherIconLazy;\nexport function other(x, y, title, scale = 1) {\n    if (otherIconLazy === undefined) {\n        const d = `M10.8 13.5v3q0 .2-.15.35-.15.15-.35.15h-3q-.2 0-.35-.15-.15-.15-.15-.35v-3q0-.2.15-.35.15\n  -.15.35-.15h3q.2 0 .35.15.15.15.15.35zM14.75 6q0 .675-.193 1.262-.193.588-.437.957-.244.365\n  -.688.74-.443.375-.718.543-.275.17-.763.444-.51.286-.852.81-.344.526-.344.84 0 .21-.15.405-.15.194\n  -.35.194h-3q-.186 0-.318-.23-.13-.234-.13-.47v-.564q0-1.037.812-1.956.812-.917 1.787-1.355.74-.336\n  1.05-.7.314-.362.314-.95 0-.524-.583-.924-.58-.4-1.343-.4-.814 0-1.35.362-.44.312-1.34 1.437-.16.2\n  -.386.2-.15 0-.313-.1L3.4 4.987q-.16-.124-.193-.312-.03-.188.07-.35Q5.277 1 9.077 1q1 0 2.01.387\n  1.01.388 1.825 1.038.812.65 1.325 1.594.51.94.51 1.98z`;\n        otherIconLazy = svgLib.newPath(d);\n    }\n    return wrapSvgIcon(x, y, title, \"icon-other\", scale, otherIconLazy.cloneNode(false));\n}\nlet javascriptIconLazy;\nexport function javascript(x, y, title, scale = 1) {\n    if (javascriptIconLazy === undefined) {\n        const d = `M13.516 2.9c-2.766 0-4.463 1.522-4.463 3.536 0 1.733 1.295 2.82 3.256 3.52\n  1.413.49 1.973.926 1.973 1.644 0 .787-.647 1.296-1.873 1.296-1.137 0-2.26-.368-2.96-.736l-.54\n  2.19c.665.367 1.996.734 3.344.734 3.238 0 4.744-1.68 4.744-3.658\n  0-1.68-.966-2.767-3.05-3.537-1.54-.6-2.186-.93-2.186-1.68 0-.6.56-1.14 1.714-1.14\n  1.137 0 1.996.33 2.45.56l.596-2.138c-.7-.332-1.663-.596-3.01-.596zm-9.032.192v7.44c0\n  1.822-.702 2.33-1.822 2.33-.525 0-.997-.09-1.365-.212L1 14.805c.525.175 1.33.28 1.96.28\n  2.574 0 4.185-1.173 4.185-4.534V3.097h-2.66z`;\n        javascriptIconLazy = svgLib.newPath(d);\n    }\n    return wrapSvgIcon(x, y, title, \"icon-js\", scale, javascriptIconLazy.cloneNode(false));\n}\nlet imageIconLazy;\nexport function image(x, y, title, scale = 1) {\n    if (imageIconLazy === undefined) {\n        const d = `M6 6q0 .75-.525 1.275Q4.95 7.8 4.2 7.8q-.75 0-1.275-.525Q2.4 6.75 2.4\n  6q0-.75.525-1.275Q3.45 4.2 4.2 4.2q.75 0 1.275.525Q6 5.25 6 6zm9.6 3.6v4.2H2.4V12l3-3\n  1.5 1.5 4.8-4.8zm.9-6.6h-15q-.122 0-.21.09-.09.088-.09.21v11.4q0\n  .122.09.21.088.09.21.09h15q.122 0 .21-.09.09-.088.09-.21V3.3q0-.122-.09-.21Q16.623\n  3 16.5 3zm1.5.3v11.4q0 .62-.44 1.06-.44.44-1.06.44h-15q-.62 0-1.06-.44Q0 15.32 0\n  14.7V3.3q0-.62.44-1.06.44-.44 1.06-.44h15q.62 0 1.06.44.44.44.44 1.06z`;\n        imageIconLazy = svgLib.newPath(d);\n    }\n    return wrapSvgIcon(x, y, title, \"icon-image\", scale, imageIconLazy.cloneNode(false));\n}\nexport function svg(x, y, title, scale = 1) {\n    return image(x, y, title, scale);\n}\nlet htmlIconLazy;\nexport function html(x, y, title, scale = 1) {\n    if (htmlIconLazy === undefined) {\n        const d = `M5.626 13.31l-.492.492q-.098.098-.226.098t-.226-.098L.098 9.22Q0 9.12 0\n  8.99q0-.127.098-.226L4.682 4.18q.098-.097.226-.097t.226.098l.492.49q.1.1.1.23t-.1.23L1.76\n  8.99l3.866 3.866q.1.098.1.226t-.1.226zM11.44 2.815l-3.67\n  12.7q-.04.127-.152.19-.113.065-.23.026l-.61-.162q-.13-.04-.193-.152-.064-.112-.024-.24l3.67-12.698q.04\n  -.128.157-.192.113-.064.23-.025l.61.167q.13.04.193.152.063.113.023.24zM17.9\n  9.22l-4.582 4.58q-.098.098-.226.098t-.226-.098l-.492-.492q-.1-.098-.1-.226t.1-.226L16.24\n  8.99l-3.867-3.865q-.1-.098-.1-.226t.1-.23l.492-.49q.098-.1.226-.1t.23.1l4.58 4.583q.1.1.1.226 0 .13-.1.23z`;\n        htmlIconLazy = svgLib.newPath(d);\n    }\n    return wrapSvgIcon(x, y, title, \"icon-html\", scale, htmlIconLazy.cloneNode(false));\n}\nlet cssIconLazy;\nexport function css(x, y, title, scale = 1) {\n    if (cssIconLazy === undefined) {\n        const d = `M15.436.99q.625 0 1.095.416.47.415.47 1.04 0 .564-.4 1.35-2.97 5.624-4.16 6.724-.865.814\n  -1.946.814-1.127 0-1.935-.827-.81-.827-.81-1.962 0-1.144.822-1.895l5.705-5.175Q14.8.99\n  15.435.99zM7.31 10.232q.35.68.953 1.162.603.483 1.345.68l.01.634q.035 1.904-1.16 3.102-1.192\n  1.198-3.114 1.198-1.1 0-1.948-.416-.85-.415-1.364-1.14-.514-.723-.773-1.635Q1 12.905 1\n  11.85l.366.268q.304.224.555.398.25.175.53.327.277.15.41.15.368 0 .493-.33.224-.59.515-1.005.29\n  -.415.62-.68.332-.263.788-.424.455-.16.92-.228.465-.066 1.118-.094z`;\n        cssIconLazy = svgLib.newPath(d);\n    }\n    return wrapSvgIcon(x, y, title, \"icon-css\", scale, cssIconLazy.cloneNode(false));\n}\nlet warningIconLazy;\nexport function warning(x, y, title, scale = 1) {\n    if (warningIconLazy === undefined) {\n        const d = `M6 6q0 .75-.525 1.275Q4.95 7.8 4.2 7.8q-.75 0-1.275-.525Q2.4 6.75 2.4\n  6q0-.75.525-1.275Q3.45 4.2 4.2 4.2q.75 0 1.275.525Q6 5.25 6 6zm9.6 3.6v4.2H2.4V12l3-3\n  1.5 1.5 4.8-4.8zm.9-6.6h-15q-.122 0-.21.09-.09.088-.09.21v11.4q0\n  .122.09.21.088.09.21.09h15q.122 0 .21-.09.09-.088.09-.21V3.3q0-.122-.09-.21Q16.623\n  3 16.5 3zm1.5.3v11.4q0 .62-.44 1.06-.44.44-1.06.44h-15q-.62 0-1.06-.44Q0 15.32 0\n  14.7V3.3q0-.62.44-1.06.44-.44 1.06-.44h15q.62 0 1.06.44.44.44.44 1.06z`;\n        warningIconLazy = svgLib.newPath(d);\n    }\n    return wrapSvgIcon(x, y, title, \"icon-warning\", scale, warningIconLazy.cloneNode(false));\n}\nlet errorIconLazy;\nexport function error(x, y, title, scale = 1) {\n    if (errorIconLazy === undefined) {\n        const d = `M9 1q2.177 0 4.016 1.073 1.838 1.073 2.91 2.91Q17 6.823 17 9q0 2.177-1.073 4.016-1.073\n  1.838-2.91 2.91Q11.177 17 9 17q-2.177 0-4.016-1.073-1.838-1.073-2.91-2.91Q1 11.177 1 9q0-2.177 1.073-4.016\n  1.073-1.838 2.91-2.91Q6.823 1 9 1zm1.333 12.99v-1.98q0-.145-.093-.244-.094-.1-.23-.1h-2q-.135 0-.24.105\n  -.103.106-.103.24v1.98q0 .136.104.24.106.104.24.104h2q.137 0 .23-.1.094-.098.094-.243zm-.02-3.584l.187\n  -6.468q0-.125-.104-.188-.104-.084-.25-.084H7.854q-.146 0-.25.084-.104.062-.104.188l.177 6.468q0\n  .104.104.183.106.076.25.076h1.93q.146 0 .245-.078.1-.08.11-.184z`;\n        errorIconLazy = svgLib.newPath(d);\n    }\n    return wrapSvgIcon(x, y, title, \"icon-no-gzip\", scale, errorIconLazy.cloneNode(false));\n}\nlet fontIconLazy;\nexport function font(x, y, title, scale = 1) {\n    if (fontIconLazy === undefined) {\n        const d = `M7.97 5.754L6.338 10.08q.317 0 1.312.02.994.02 1.542.02.183 0 .548-.02-.836-2.432-1.77\n  -4.345zM1 16.38l.02-.76q.22-.068.538-.12.317-.053.548-.102.23-.048.476-.14.245-.09.428-.278.182\n  -.187.298-.485l2.28-5.923 2.69-6.962H9.51q.077.135.105.202l1.972 4.615q.317.75 1.02 2.476.7 1.726\n  1.095 2.64.144.327.558 1.39.413 1.062.692 1.62.192.432.336.547.183.145.847.284.663.14.807.197.058.37.058.55\n  0 .04-.005.13t-.005.128q-.605 0-1.827-.076-1.22-.08-1.836-.08-.73 0-2.067.07-1.337.067-1.712.076 0-.412.04\n  -.75l1.258-.27q.01 0 .12-.022l.15-.033q.038-.01.14-.044.1-.034.143-.06l.1-.08q.06-.048.082-.106.024-.056.024\n  -.133 0-.152-.298-.926t-.693-1.71q-.392-.93-.402-.96l-4.325-.02q-.25.56-.734 1.88-.487 1.32-.487 1.56 0\n  .213.136.362.134.15.418.235.285.087.467.13.185.044.55.08.366.04.395.04.01.183.01.558 0 .087-.02.26-.558\n  0-1.678-.095-1.12-.098-1.678-.098-.08 0-.26.04-.18.037-.208.037-.77.136-1.808.136Z`;\n        fontIconLazy = svgLib.newPath(d);\n    }\n    return wrapSvgIcon(x, y, title, \"icon-font\", scale, fontIconLazy.cloneNode(false));\n}\nlet flashIconLazy;\nexport function flash(x, y, title, scale = 1) {\n    if (flashIconLazy === undefined) {\n        const d = `M13.724 4.738q.195.216.076.476L7.96 17.73q-.142.27-.456.27-.043 0-.15-.022-.185-.054-.277\n  -.205-.092-.15-.05-.325l2.132-8.74L4.765 9.8q-.044.01-.13.01-.195 0-.336-.118-.193-.162-.14-.422L6.337.346q.043\n  -.15.173-.25Q6.64 0 6.81 0h3.548q.206 0 .346.135.14.135.14.32 0 .086-.053.194L8.94 5.654l4.285\n  -1.06q.086-.02.13-.02.205 0 .367.16z`;\n        flashIconLazy = svgLib.newPath(d);\n    }\n    return wrapSvgIcon(x, y, title, \"icon-flash\", scale, flashIconLazy.cloneNode(false));\n}\nlet videoIconLazy;\nexport function video(x, y, title, scale = 1) {\n    if (videoIconLazy === undefined) {\n        const d = `M17 4.107v9.714q0 .38-.348.53-.116.05-.223.05-.25 0-.41-.17l-3.6-3.6v1.48q0 1.067-.757 1.82-.754.756\n  -1.817.756H3.57q-1.06 0-1.816-.753Q1 13.17 1 12.106V5.82q0-1.06.754-1.816.755-.754 1.817-.754h6.29q1.07 0\n  1.82.754.76.755.76 1.817V7.3l3.597-3.59q.16-.17.4-.17.107 0 .22.045.35.153.35.528z`;\n        videoIconLazy = svgLib.newPath(d);\n    }\n    return wrapSvgIcon(x, y, title, \"icon-video\", scale, videoIconLazy.cloneNode(false));\n}\nlet audioIconLazy;\nexport function audio(x, y, title, scale = 1) {\n    if (audioIconLazy === undefined) {\n        const d = `M8.385 3.756v10.46q0 .252-.183.434-.183.183-.433.183t-.44-.183l-3.2-3.202H1.61q-.25\n  0-.43-.183-.18-.182-.18-.432V7.14q0-.25.182-.432.182-.183.432-.183h2.52l3.202-3.202q.182-.183.432\n  -.183t.43.183q.182.183.182.433zm3.692 5.23q0 .73-.41 1.36-.407.63-1.08.9-.097.048-.24.048-.25 0\n  -.434-.178-.182-.177-.182-.437 0-.21.12-.35.12-.14.28-.24.16-.1.33-.22.166-.12.28-.34.117-.22.117\n  -.55 0-.33-.115-.55-.115-.224-.28-.344-.163-.12-.326-.22-.165-.1-.28-.24-.116-.14-.116-.34 0-.26.183\n  -.44t.43-.176q.146 0 .24.048.676.26 1.08.894.41.636.41 1.367zm2.46 0q0 1.472-.816 2.717t-2.16 1.813q\n  -.12.048-.24.048-.26 0-.44-.183-.18-.18-.18-.43 0-.37.378-.56.54-.28.73-.42.713-.52 1.11-1.302.4\n  -.783.4-1.667 0-.886-.4-1.67-.4-.783-1.11-1.303-.192-.145-.73-.424-.376-.192-.376-.567 0-.25.183\n  -.434.183-.18.433-.18.123 0 .25.047 1.344.567 2.16 1.812.82 1.244.82 2.716zm2.463 0q0 2.212\n  -1.22 4.063-1.222 1.85-3.25 2.72-.126.05-.25.05-.25 0-.434-.19-.183-.183-.183-.433 0-.346.375\n  -.568.068-.04.217-.1.15-.064.216-.1.45-.244.79-.494 1.19-.875 1.85-2.183.67-1.306.67-2.777 0\n  -1.47-.663-2.78-.664-1.304-1.846-2.18-.346-.25-.79-.49-.065-.035-.214-.1-.15-.06-.22-.1\n  -.375-.22-.375-.57 0-.25.183-.43.183-.182.433-.182.123 0 .25.047 2.027.876 3.25 2.727Q17 6.775 17 8.99Z`;\n        audioIconLazy = svgLib.newPath(d);\n    }\n    return wrapSvgIcon(x, y, title, \"icon-audio\", scale, audioIconLazy.cloneNode(false));\n}\n", "import { addClass, getParentByClassName, makeBodyEl, makeHtmlEl, removeClass, } from \"../../helpers/dom\";\nimport * as svg from \"../../helpers/svg\";\nconst translateYRegEx = /(?:translate)\\(.+[, ]+(.+)\\)/;\nconst tooltipMaxWidth = 200;\nconst getTranslateY = (str = \"\") => {\n    str = (str === null) ? \"\" : str;\n    const res = translateYRegEx.exec(str);\n    if (res && res.length >= 2) {\n        return parseInt(res[1], 10);\n    }\n    return 0;\n};\n/** static event-handler to show tooltip */\nexport const onHoverInShowTooltip = (base, rectData, foreignEl) => {\n    const innerDiv = foreignEl.querySelector(\".tooltip-payload\");\n    const row = getParentByClassName(base, \"row-item\");\n    const yTransformOffsest = getTranslateY(row.getAttribute(\"transform\"));\n    /** Base Y */\n    const yInt = parseInt(base.getAttribute(\"y\") || \"\", 10);\n    /** Base X */\n    const x = base.getAttribute(\"x\") || \"\";\n    /** X Positon of parent in Percent */\n    const xPercInt = parseFloat(x);\n    let offsetY = 50;\n    /** Row's width in Pixel */\n    const rowWidthPx = base.width.baseVal.value || base.getBoundingClientRect().width;\n    /** current ratio: 1%  `pxPerPerc` Pixel */\n    const pxPerPerc = rowWidthPx / (rectData.width / rectData.unit);\n    const percPerPx = (rectData.width / rectData.unit) / rowWidthPx;\n    const isLeftOfRow = xPercInt > 50 && ((95 - xPercInt) * pxPerPerc < tooltipMaxWidth);\n    innerDiv.innerHTML = rectData.label || \"\";\n    // Disable animation for size-gathering\n    addClass(innerDiv, \"no-anim\");\n    foreignEl.style.display = \"block\";\n    innerDiv.style.opacity = \"0.01\";\n    /** First heigth, floating might change this later, since with is not fixed */\n    const initialHeight = innerDiv.clientHeight + 5;\n    if (yInt + yTransformOffsest - initialHeight > 0) { // above row\n        offsetY = yTransformOffsest - initialHeight;\n    }\n    else { // below row: more offset to not hide text with mouse\n        offsetY = yTransformOffsest + rectData.height + 10;\n    }\n    if (isLeftOfRow) {\n        const newLeft = xPercInt - ((innerDiv.clientWidth + 5) * percPerPx);\n        let leftOffset = parseInt(foreignEl.querySelector(\"body\").style.left || \"\", 10);\n        const ratio = 1 / (1 / 100 * (100 - leftOffset));\n        leftOffset = ratio * leftOffset;\n        if (newLeft > -leftOffset) { // tooltip still visible\n            innerDiv.style.left = `${newLeft}%`;\n        }\n        else {\n            // change value to not crop tooltip\n            innerDiv.style.left = `${-leftOffset}%`;\n        }\n    }\n    else {\n        innerDiv.style.left = x;\n    }\n    foreignEl.setAttribute(\"y\", `${yInt + offsetY}`);\n    foreignEl.setAttribute(\"height\", initialHeight.toString());\n    removeClass(innerDiv, \"no-anim\");\n    innerDiv.style.opacity = \"1\";\n    const diff = (innerDiv.clientHeight + 5) - initialHeight;\n    if (diff !== 0) {\n        // make adjustments if the initial height was wrong\n        foreignEl.setAttribute(\"height\", (initialHeight + diff).toString());\n        foreignEl.setAttribute(\"y\", `${yInt + offsetY - diff}`);\n    }\n};\nexport const onHoverOutShowTooltip = (base) => {\n    const holder = getParentByClassName(base, \"water-fall-chart\");\n    const foreignEl = holder.querySelector(\".tooltip\");\n    const innerDiv = foreignEl.querySelector(\".tooltip-payload\");\n    foreignEl.style.display = \"none\";\n    foreignEl.setAttribute(\"height\", \"250\"); // set to high value\n    innerDiv.style.opacity = \"0\";\n};\n/**\n * Creates the Tooltip base elements\n * @param {ChartOptions} options - Chart config/customization options\n */\nexport const makeTooltip = (options) => {\n    const leftColOffsetPerc = options.leftColumnWidth;\n    const holder = svg.newSvg(\"tooltip-holder\", {\n        width: \"100%\",\n        x: \"0\",\n        y: \"0\",\n    });\n    const foreignEl = svg.newForeignObject({\n        width: `100%`,\n        x: \"0\",\n        y: `${leftColOffsetPerc}%`,\n    }, \"tooltip\", {\n        display: \"none\",\n    });\n    const html = makeHtmlEl();\n    const body = makeBodyEl({\n        left: `${leftColOffsetPerc}%`,\n        width: `${100 - leftColOffsetPerc}%`,\n    }, `<div class=\"tooltip-payload\" style=\"max-width: ${tooltipMaxWidth}px; opacity: 0;\"></div>`);\n    html.appendChild(body);\n    foreignEl.appendChild(html);\n    holder.appendChild(foreignEl);\n    return holder;\n};\n", "/**\n * Creation of sub-components used in a resource request row\n */\nimport { getParentByClassName } from \"../../helpers/dom\";\nimport * as misc from \"../../helpers/misc\";\nimport * as svg from \"../../helpers/svg\";\nimport { timingTypeToCssClass } from \"../../transformers/styling-converters\";\nimport { onHoverInShowTooltip, onHoverOutShowTooltip, } from \"./svg-tooltip\";\n/**\n * Creates the `rect` that represent the timings in `rectData`\n * @param  {RectData} rectData - Data for block\n * @param  {string} className - className for block `rect`\n */\nfunction makeBlock(rectData, className) {\n    const holder = svg.newG(\"\");\n    const blockHeight = rectData.height - 1;\n    const rectX = misc.roundNumber(rectData.x / rectData.unit) + \"%\";\n    const rect = svg.newRect({\n        height: blockHeight,\n        width: misc.roundNumber(rectData.width / rectData.unit) + \"%\",\n        x: rectX,\n        y: rectData.y,\n    }, className);\n    holder.appendChild(rect);\n    if (rectData.label) {\n        let showDelayTimeOut;\n        let foreignElLazy;\n        rect.addEventListener(\"mouseenter\", () => {\n            if (!foreignElLazy) {\n                foreignElLazy = getParentByClassName(rect, \"water-fall-chart\")\n                    .querySelector(\".tooltip\");\n            }\n            showDelayTimeOut = setTimeout(() => {\n                showDelayTimeOut = null;\n                onHoverInShowTooltip(rect, rectData, foreignElLazy);\n            }, 100);\n        });\n        rect.addEventListener(\"mouseleave\", () => {\n            if (showDelayTimeOut) {\n                clearTimeout(showDelayTimeOut);\n            }\n            else {\n                onHoverOutShowTooltip(rect);\n            }\n        });\n    }\n    if (rectData.showOverlay && rectData.hideOverlay) {\n        rect.addEventListener(\"mouseenter\", rectData.showOverlay(rectData));\n        rect.addEventListener(\"mouseleave\", rectData.hideOverlay(rectData));\n    }\n    return holder;\n}\nfunction makeChunkBlock(chunkData, rectData, className) {\n    const holder = svg.newG(\"\");\n    const blockHeight = rectData.height - 1;\n    // TODO: Once we have a way to pass the available bandwidth we can calculate the length for each chunk.\n    // const blockWidth = chunkData.ts - (chunkData.bytes / (5000000 / 8.0));\n    const rectX = misc.roundNumber(chunkData.ts / rectData.unit) + \"%\";\n    const rect = svg.newRect({\n        height: blockHeight,\n        width: \"1px\",\n        x: rectX,\n        y: rectData.y,\n    }, className, {\n        pointerEvents: \"none\"\n    });\n    holder.appendChild(rect);\n    return holder;\n}\n/**\n * Converts a segment to RectData\n * @param  {WaterfallEntryTiming} segment\n * @param  {RectData} rectData\n * @returns RectData\n */\nfunction segmentToRectData(segment, rectData) {\n    const total = (!isNaN(segment.total)) ? `<br/>total: ${Math.round(segment.total)}ms` : \"\";\n    return {\n        cssClass: timingTypeToCssClass(segment.type),\n        height: (rectData.height - 6),\n        hideOverlay: rectData.hideOverlay,\n        label: `<strong>${segment.type}</strong><br/>` +\n            `${Math.round(segment.start)}ms - ${Math.round(segment.end)}ms${total}`,\n        showOverlay: rectData.showOverlay,\n        unit: rectData.unit,\n        width: segment.total,\n        x: segment.start || 0.001,\n        y: rectData.y,\n    };\n}\n/**\n * @param  {RectData} rectData\n * @param  {number} timeTotal\n * @param  {number} firstX\n * @returns SVGTextElement\n */\nfunction createTimingLabel(rectData, timeTotal, firstX) {\n    const minWidth = 500; // minimum supported diagram width that should show the timing label uncropped\n    const spacingPerc = (5 / minWidth * 100);\n    const y = rectData.y + rectData.height / 1.5;\n    const totalLabel = `${Math.round(timeTotal)} ms`;\n    let percStart = (rectData.x + rectData.width) / rectData.unit + spacingPerc;\n    let txtEl = svg.newTextEl(totalLabel, { x: `${misc.roundNumber(percStart)}%`, y });\n    // (pessimistic) estimation of text with to avoid performance penalty of `getBBox`\n    const roughTxtWidth = totalLabel.length * 8;\n    if (percStart + (roughTxtWidth / minWidth * 100) > 100) {\n        percStart = firstX / rectData.unit - spacingPerc;\n        txtEl = svg.newTextEl(totalLabel, { x: `${misc.roundNumber(percStart)}%`, y }, { textAnchor: \"end\" });\n    }\n    return txtEl;\n}\nfunction createPushIndicator(rectData) {\n    const y = rectData.y + rectData.height / 1.5;\n    const x = `${misc.roundNumber(rectData.x / rectData.unit)}%`;\n    const el = svg.newG(\"http2-inidicator-holder\");\n    el.appendChild(svg.newTextEl(\"\", {\n        transform: `translate(-5)`,\n        x,\n        y,\n    }, {\n        \"fillOpacity\": \"0.6\",\n        \"text-anchor\": \"end\",\n    }));\n    el.appendChild(svg.newTitle(\"http2 Push\"));\n    return el;\n}\n/**\n * Render the block and timings for a request\n * @param  {RectData}         rectData Basic dependencys and globals\n * @param  {WaterfallEntry}   entry Request Details, e.g. Request and Timing Data\n * @return {SVGElement}       Renerated SVG (rect or g element)\n */\nexport function createRect(rectData, entry) {\n    const segments = entry.segments;\n    const rect = makeBlock(rectData, `time-block ${rectData.cssClass}`);\n    const rectHolder = svg.newG(\"rect-holder\");\n    let firstX = rectData.x;\n    rectHolder.appendChild(rect);\n    if (segments && segments.length > 0) {\n        segments.forEach((segment) => {\n            if (!isNaN(segment.total) && segment.total > 0 && typeof segment.start === \"number\") {\n                const childRectData = segmentToRectData(segment, rectData);\n                const childRect = makeBlock(childRectData, `segment ${childRectData.cssClass}`);\n                firstX = Math.min(firstX, childRectData.x);\n                if (segment.type === 'receive' && segment.chunks && segment.chunks.length > 0) {\n                    segment.chunks.forEach((chunk) => {\n                        const chunkRect = makeChunkBlock(chunk, childRectData, `${childRectData.cssClass}-chunk`);\n                        childRect.appendChild(chunkRect);\n                    });\n                }\n                rectHolder.appendChild(childRect);\n            }\n        });\n        if (misc.find(entry.responseDetails.indicators, (indicator) => indicator.id === \"push\")) {\n            rectHolder.appendChild(createPushIndicator(rectData));\n        }\n        rectHolder.appendChild(createTimingLabel(rectData, entry.total, firstX));\n    }\n    return rectHolder;\n}\n/**\n * Create a SVG text element for the request number label, right aligned within the specified width.\n * @param {number} x horizontal position (in px).\n * @param {number} y vertical position of related request block (in px).\n * @param {string} requestNumber the request number string\n * @param {number} height height of row\n * @param {number} width width of the space within the right align the label.\n * @returns {SVGTextElement}\n */\nexport function createRequestNumberLabel(x, y, requestNumber, height, width) {\n    y += Math.round(height / 2) + 5;\n    x += width;\n    return svg.newTextEl(requestNumber, { x, y }, { \"text-anchor\": \"end\" });\n}\n/**\n * Create a new clipper SVG Text element to label a request block to fit the left panel width\n * @param  {number}         x                horizontal position (in px)\n * @param  {number}         y                vertical position of related request block (in px)\n * @param  {string}         name             URL\n * @param  {number}         height           height of row\n * @return {SVGTextElement}                  label SVG element\n */\nexport function createRequestLabelClipped(x, y, name, height) {\n    const blockLabel = createRequestLabel(x, y, name, height);\n    blockLabel.style.clipPath = `url(#titleClipPath)`;\n    return blockLabel;\n}\n/**\n * Create a new full width SVG Text element to label a request block\n * @param  {number}         x                horizontal position (in px)\n * @param  {number}         y                vertical position of related request block (in px)\n * @param  {string}         name             URL\n * @param  {number}         height           height of row\n */\nexport function createRequestLabelFull(x, y, name, height) {\n    const blockLabel = createRequestLabel(x, y, name, height);\n    const labelHolder = svg.newG(\"full-label\", {}, {\n        clipPath: `url(#titleFullClipPath)`,\n    });\n    labelHolder.appendChild(svg.newRect({\n        height: height - 4,\n        rx: 5,\n        ry: 5,\n        // for initial load performance use 500px as base width\n        // it's updated one by one on hover\n        width: 500,\n        x: x - 3,\n        y: y + 3,\n    }, \"label-full-bg\"));\n    labelHolder.appendChild(blockLabel);\n    return labelHolder;\n}\n// private helper\nfunction createRequestLabel(x, y, name, height) {\n    const blockName = misc.resourceUrlFormatter(name, 125);\n    y = y + Math.round(height / 2) + 5;\n    const blockLabel = svg.newTextEl(blockName, { x, y });\n    blockLabel.appendChild(svg.newTitle(name));\n    blockLabel.style.opacity = name.match(/js.map$/) ? \"0.5\" : \"1\";\n    return blockLabel;\n}\nconst supportsAnimationFrame = (typeof window.requestAnimationFrame === \"function\" &&\n    typeof window.cancelAnimationFrame === \"function\");\n/**\n * Appends the labels to `rowFixed` - TODO: see if this can be done more elegant\n * @param {SVGGElement}    rowFixed   [description]\n * @param {SVGTextElement} requestNumberLabel a label placed in front of every shortLabel\n * @param {SVGTextElement} shortLabel [description]\n * @param {SVGGElement}    fullLabel  [description]\n */\nexport function appendRequestLabels(rowFixed, requestNumberLabel, shortLabel, fullLabel) {\n    const labelFullBg = fullLabel.getElementsByTagName(\"rect\")[0];\n    const fullLabelText = fullLabel.getElementsByTagName(\"text\")[0];\n    // use display: none to not render it and visibility to remove it from search results (crt+f in chrome at least)\n    fullLabel.style.display = \"none\";\n    fullLabel.style.visibility = \"hidden\";\n    rowFixed.appendChild(requestNumberLabel);\n    rowFixed.appendChild(shortLabel);\n    rowFixed.appendChild(fullLabel);\n    /** the size adjustment only needs to happend once, this var keeps track of that */\n    let isAdjusted = false;\n    /** store AnimationFrame id, to cancel it if hovering was too fast */\n    let updateAnimFrame;\n    rowFixed.addEventListener(\"mouseenter\", () => {\n        fullLabel.style.display = \"block\";\n        shortLabel.style.display = \"none\";\n        fullLabel.style.visibility = \"visible\";\n        // offload doublecheck of width\n        const update = () => {\n            const newWidth = fullLabelText.getComputedTextLength() + 10;\n            labelFullBg.setAttribute(\"width\", newWidth.toString());\n            isAdjusted = true;\n            updateAnimFrame = undefined;\n        };\n        if (!isAdjusted) {\n            if (supportsAnimationFrame) {\n                updateAnimFrame = window.requestAnimationFrame(update);\n            }\n            else {\n                update();\n            }\n        }\n    });\n    rowFixed.addEventListener(\"mouseleave\", () => {\n        shortLabel.style.display = \"block\";\n        fullLabel.style.display = \"none\";\n        fullLabel.style.visibility = \"hidden\";\n        if (supportsAnimationFrame && updateAnimFrame !== undefined) {\n            cancelAnimationFrame(updateAnimFrame);\n        }\n    });\n}\n/**\n * Stripe for BG\n * @param  {number}      y              [description]\n * @param  {number}      height         [description]\n * @param  {boolean}     isEven         [description]\n * @return {SVGRectElement}                [description]\n */\nexport function createBgStripe(y, height, isEven) {\n    const className = isEven ? \"even\" : \"odd\";\n    return svg.newRect({\n        height,\n        width: \"100%\",\n        x: 0,\n        y,\n    }, className);\n}\nexport function createNameRowBg(y, rowHeight) {\n    const rowFixed = svg.newG(\"row row-fixed\");\n    rowFixed.appendChild(svg.newRect({\n        height: rowHeight,\n        width: \"100%\",\n        x: \"0\",\n        y,\n    }, \"\", {\n        opacity: 0,\n    }));\n    return rowFixed;\n}\nexport function createRowBg(y, rowHeight) {\n    const rowFixed = svg.newG(\"row row-flex\");\n    rowFixed.appendChild(svg.newRect({\n        height: rowHeight,\n        width: \"100%\",\n        x: \"0\",\n        y,\n    }, \"\", {\n        opacity: 0,\n    }));\n    return rowFixed;\n}\n", "import * as icons from \"../../helpers/icons\";\nimport { isTabDown, isTabUp, resourceUrlFormatter, } from \"../../helpers/misc\";\nimport * as svg from \"../../helpers/svg\";\nimport { getIndicatorIcons } from \"./svg-indicators\";\nimport * as rowSubComponents from \"./svg-row-subcomponents\";\n// initial clip path\nconst clipPathElProto = svg.newClipPath(\"titleClipPath\");\nclipPathElProto.appendChild(svg.newRect({\n    height: \"100%\",\n    width: \"100%\",\n}));\nconst clipPathElFullProto = svg.newClipPath(\"titleFullClipPath\");\nclipPathElFullProto.appendChild(svg.newRect({\n    height: \"100%\",\n    width: \"100%\",\n}));\nconst ROW_LEFT_MARGIN = 3;\n// Create row for a single request\nexport function createRow(context, index, maxIconsWidth, maxNumberWidth, rectData, entry, onDetailsOverlayShow) {\n    const y = rectData.y;\n    const rowHeight = rectData.height;\n    const leftColumnWidth = context.options.leftColumnWidth;\n    const rowItem = svg.newA(entry.responseDetails.rowClass || \"\");\n    rowItem.setAttribute(\"tabindex\", \"0\");\n    rowItem.setAttribute(\"xlink:href\", \"javascript:void(0)\");\n    const leftFixedHolder = svg.newSvg(\"left-fixed-holder\", {\n        width: `${leftColumnWidth}%`,\n        x: \"0\",\n    });\n    const flexScaleHolder = svg.newSvg(\"flex-scale-waterfall\", {\n        width: `${100 - leftColumnWidth}%`,\n        x: `${leftColumnWidth}%`,\n    });\n    const rect = rowSubComponents.createRect(rectData, entry);\n    const rowName = rowSubComponents.createNameRowBg(y, rowHeight);\n    const rowBar = rowSubComponents.createRowBg(y, rowHeight);\n    const bgStripe = rowSubComponents.createBgStripe(y, rowHeight, (index % 2 === 0));\n    let x = ROW_LEFT_MARGIN + maxIconsWidth;\n    if (context.options.showMimeTypeIcon) {\n        const icon = entry.responseDetails.icon;\n        x -= icon.width;\n        rowName.appendChild(icons[icon.type](x, y + 3, icon.title));\n    }\n    if (context.options.showIndicatorIcons) {\n        // Create and add warnings for potentia;l issues\n        getIndicatorIcons(entry).forEach((icon) => {\n            x -= icon.width;\n            rowName.appendChild(icons[icon.type](x, y + 3, icon.title));\n        });\n    }\n    // Jump to the largest offset of all rows\n    x = ROW_LEFT_MARGIN + maxIconsWidth;\n    const requestNumber = `${index + 1}`;\n    const requestNumberLabel = rowSubComponents.createRequestNumberLabel(x, y, requestNumber, rowHeight, maxNumberWidth);\n    // 4 is slightly bigger than the hover \"glow\" around the url\n    x += maxNumberWidth + 4;\n    const shortLabel = rowSubComponents.createRequestLabelClipped(x, y, resourceUrlFormatter(entry.url, 40), rowHeight);\n    const fullLabel = rowSubComponents.createRequestLabelFull(x, y, entry.url, rowHeight);\n    // create and attach request block\n    rowBar.appendChild(rect);\n    rowSubComponents.appendRequestLabels(rowName, requestNumberLabel, shortLabel, fullLabel);\n    context.pubSub.subscribeToSpecificOverlayChanges(index, (change) => {\n        hasOpenOverlay = (change.type === \"open\");\n    });\n    if (index > 0) {\n        context.pubSub.subscribeToSpecificOverlayChanges(index - 1, (change) => {\n            hasPrevOpenOverlay = (change.type === \"open\");\n        });\n    }\n    let hasOpenOverlay;\n    let hasPrevOpenOverlay;\n    rowItem.addEventListener(\"click\", (evt) => {\n        evt.preventDefault();\n        onDetailsOverlayShow(evt);\n    });\n    rowItem.addEventListener(\"keydown\", (evt) => {\n        const e = evt; // need to type this manually\n        // space on enter\n        if (e.which === 32 || e.which === 13) {\n            e.preventDefault();\n            return onDetailsOverlayShow(e);\n        }\n        // tab without open overlays around\n        if (isTabUp(e) && !hasPrevOpenOverlay && index > 0) {\n            if (rowItem.previousSibling &&\n                rowItem.previousSibling.previousSibling &&\n                rowItem.previousSibling.previousSibling.lastChild &&\n                rowItem.previousSibling.previousSibling.lastChild.lastChild) {\n                rowItem.previousSibling.previousSibling.lastChild.lastChild.dispatchEvent(new MouseEvent(\"mouseenter\"));\n            }\n            return;\n        }\n        if (isTabDown(e) && !hasOpenOverlay) {\n            if (rowItem.nextSibling &&\n                rowItem.nextSibling.nextSibling &&\n                rowItem.nextSibling.nextSibling.lastChild &&\n                rowItem.nextSibling.nextSibling.lastChild.lastChild) {\n                rowItem.nextSibling.nextSibling.lastChild.lastChild.dispatchEvent(new MouseEvent(\"mouseenter\"));\n            }\n            return;\n        }\n    });\n    rowItem.addEventListener(\"focusout\", () => {\n        rowName.dispatchEvent(new MouseEvent(\"mouseleave\"));\n    });\n    flexScaleHolder.appendChild(rowBar);\n    leftFixedHolder.appendChild(clipPathElProto.cloneNode(true));\n    leftFixedHolder.appendChild(rowName);\n    rowItem.appendChild(clipPathElFullProto.cloneNode(true));\n    rowItem.appendChild(bgStripe);\n    rowItem.appendChild(flexScaleHolder);\n    rowItem.appendChild(leftFixedHolder);\n    return rowItem;\n}\n", "/**\n * vertical alignment helper lines\n */\nimport { addClass, removeClass } from \"../../helpers/dom\";\nimport * as svg from \"../../helpers/svg\";\n/**\n * Creates verticale alignment bars\n * @param {number} diagramHeight  height of the requests part of the diagram in px\n */\nexport function createAlignmentLines(diagramHeight) {\n    return {\n        endline: svg.newLine({\n            x1: \"0\",\n            x2: \"0\",\n            y1: \"0\",\n            y2: diagramHeight,\n        }, \"line-end\"),\n        startline: svg.newLine({\n            x1: \"0\",\n            x2: \"0\",\n            y1: \"0\",\n            y2: diagramHeight,\n        }, \"line-start\"),\n    };\n}\n/**\n * Partially appliable Eventlisteners for verticale alignment bars to be shown on hover\n * @param {HoverElements} hoverEl  verticale alignment bars SVG Elements\n */\nexport function makeHoverEvtListeners(hoverEl) {\n    return {\n        onMouseEnterPartial() {\n            return (evt) => {\n                const targetRect = evt.target;\n                addClass(targetRect, \"active\");\n                const xPosEnd = targetRect.x.baseVal.valueInSpecifiedUnits +\n                    targetRect.width.baseVal.valueInSpecifiedUnits + \"%\";\n                const xPosStart = targetRect.x.baseVal.valueInSpecifiedUnits + \"%\";\n                hoverEl.endline.x1.baseVal.valueAsString = xPosEnd;\n                hoverEl.endline.x2.baseVal.valueAsString = xPosEnd;\n                hoverEl.startline.x1.baseVal.valueAsString = xPosStart;\n                hoverEl.startline.x2.baseVal.valueAsString = xPosStart;\n                addClass(hoverEl.endline, \"active\");\n                addClass(hoverEl.startline, \"active\");\n            };\n        },\n        onMouseLeavePartial() {\n            return (evt) => {\n                const targetRect = evt.target;\n                removeClass(targetRect, \"active\");\n                removeClass(hoverEl.endline, \"active\");\n                removeClass(hoverEl.startline, \"active\");\n            };\n        },\n    };\n}\n", "/**\n * Creation of sub-components of the waterfall chart\n */\nimport { roundNumber } from \"../../helpers/misc\";\nimport * as svg from \"../../helpers/svg\";\n/**\n * Renders a per-second marker line and appends it to `timeHolder`\n *\n * @param  {Context} context  Execution context object\n * @param  {SVGGElement} timeHolder element that the second marker is appended to\n * @param  {number} secsTotal  total number of seconds in the timeline\n * @param  {number} sec second of the time marker to render\n * @param  {boolean} addLabel  if true a time label is added to the marker-line\n */\nconst appendSecond = (context, timeHolder, secsTotal, sec, addLabel = false) => {\n    const diagramHeight = context.diagramHeight;\n    const secPerc = 100 / secsTotal;\n    /** just used if `addLabel` is `true` - for full seconds */\n    let lineLabel;\n    let lineClass = \"sub-second-line\";\n    let x;\n    if (addLabel) {\n        const showTextBefore = (sec > secsTotal - 0.2);\n        lineClass = \"second-line\";\n        x = roundNumber(secPerc * sec) + 0.5 + \"%\";\n        const css = {};\n        if (showTextBefore) {\n            x = roundNumber(secPerc * sec) - 0.5 + \"%\";\n            css[\"text-anchor\"] = \"end\";\n        }\n        lineLabel = svg.newTextEl(sec + \"s\", { x, y: diagramHeight }, css);\n    }\n    x = roundNumber(secPerc * sec) + \"%\";\n    const lineEl = svg.newLine({\n        x1: x,\n        x2: x,\n        y1: 0,\n        y2: diagramHeight,\n    }, lineClass);\n    context.pubSub.subscribeToOverlayChanges((change) => {\n        const offset = change.combinedOverlayHeight;\n        // figure out why there is an offset\n        const scale = (diagramHeight + offset) / (diagramHeight);\n        lineEl.setAttribute(\"transform\", `scale(1, ${scale})`);\n        if (addLabel) {\n            lineLabel.setAttribute(\"transform\", `translate(0, ${offset})`);\n        }\n    });\n    timeHolder.appendChild(lineEl);\n    if (addLabel) {\n        timeHolder.appendChild(lineLabel);\n    }\n};\n/**\n * Renders the time-scale SVG elements (1sec, 2sec...)\n * @param  {Context} context  Execution context object\n * @param {number} durationMs    Full duration of the waterfall\n */\nexport function createTimeScale(context, durationMs) {\n    const timeHolder = svg.newG(\"time-scale full-width\");\n    /** Constant to represent a Second in Milliseconds */\n    const secInMs = 1000;\n    /** Number of (Sub-)Steps in a second */\n    const stepsInASec = 5;\n    // more than 20sec doesn't leave space for sub-steps\n    const showSubSteps = durationMs < 20 * secInMs;\n    /** Space for a Step or SubStep - sub-steps rounded to 1st digit */\n    const subStepMs = showSubSteps\n        ? Math.ceil(durationMs / (10 * secInMs)) * (secInMs / stepsInASec)\n        : secInMs;\n    // need BigInt (`BigInt(10)` or `10n` notation) here\n    // to avoid floating point precision rounding errors\n    /** steps between each major second marker */\n    const subStep = Number(1000n / BigInt(subStepMs));\n    const secs = durationMs / secInMs;\n    const steps = Math.floor(durationMs / subStepMs);\n    for (let i = 0; i <= steps; i++) {\n        const isMarkerStep = i % subStep === 0;\n        const secValue = i / subStep;\n        appendSecond(context, timeHolder, secs, secValue, isMarkerStep);\n    }\n    return timeHolder;\n}\n", "import { addClass, removeClass } from \"../../helpers/dom\";\nimport { roundNumber, toCssClass } from \"../../helpers/misc\";\nimport * as svg from \"../../helpers/svg\";\n/**\n * Renders global marks for events like the onLoad event etc\n * @param  {Context} context  Execution context object\n * @param {Mark[]} marks         [description]\n */\nexport function createMarks(context, marks) {\n    const diagramHeight = context.diagramHeight;\n    const marksHolder = svg.newG(\"marker-holder\", {\n        transform: \"scale(1, 1)\",\n    });\n    marks.forEach((mark, i) => {\n        const x = roundNumber(mark.startTime / context.unit);\n        const markHolder = svg.newG(\"mark-holder type-\" + mark.name.toLowerCase().replace(/([0-9]+[ ]?ms)|\\W/g, \"\"));\n        const lineHolder = svg.newG(\"line-holder\");\n        const lineLabelHolder = svg.newG(\"line-label-holder\");\n        const lineLabel = svg.newTextEl(mark.name, { x: `${x}%`, y: diagramHeight + 25 });\n        lineLabel.setAttribute(\"writing-mode\", \"tb\");\n        let lineRect;\n        mark.x = x;\n        const line = svg.newLine({\n            x1: x + \"%\",\n            x2: x + \"%\",\n            y1: 0,\n            y2: diagramHeight,\n        });\n        const previousMark = marks[i - 1];\n        const nextMark = marks[i + 1];\n        const minDistance = 2.5; // minimum distance between marks\n        const isCloseToPerviousMark = previousMark?.x !== undefined && mark.x - previousMark.x < minDistance;\n        const nextX = roundNumber((nextMark?.startTime || 0) / context.unit);\n        if (nextX && nextX - mark.x < minDistance && nextX + minDistance >= 100 && !isCloseToPerviousMark) { // look ahead\n            // push current mark back if next mark would be pushed past 100% and there is no close previous mark\n            lineLabel.setAttribute(\"x\", `${nextX - minDistance}%`);\n            mark.x = nextX - minDistance;\n        }\n        else if (previousMark?.x !== undefined && isCloseToPerviousMark) { // look behind\n            // push mark ahead to not collide with previous mark\n            lineLabel.setAttribute(\"x\", `${previousMark.x + minDistance}%`);\n            mark.x = previousMark.x + minDistance;\n        }\n        // would use polyline but can't use percentage for points\n        const lineConnection = svg.newLine({\n            x1: x + \"%\",\n            x2: mark.x + \"%\",\n            y1: diagramHeight,\n            y2: diagramHeight + 23,\n        });\n        lineHolder.appendChild(line);\n        lineHolder.appendChild(lineConnection);\n        if (mark.duration) {\n            lineRect = createLineRect(context, mark);\n            lineHolder.appendChild(lineRect);\n        }\n        context.pubSub.subscribeToOverlayChanges((change) => {\n            const offset = change.combinedOverlayHeight;\n            const scale = (diagramHeight + offset) / (diagramHeight);\n            line.setAttribute(\"transform\", `scale(1, ${scale})`);\n            lineLabelHolder.setAttribute(\"transform\", `translate(0, ${offset})`);\n            lineConnection.setAttribute(\"transform\", `translate(0, ${offset})`);\n            if (lineRect) {\n                lineRect.setAttribute(\"transform\", `translate(0, ${offset})`);\n            }\n        });\n        let isHoverActive = false;\n        /** click indicator - overwrites `isHoverActive` */\n        let isClickActive = false;\n        const onLabelMouseEnter = () => {\n            if (!isHoverActive) {\n                // move marker to top\n                markHolder.parentNode.appendChild(markHolder);\n                isHoverActive = true;\n                // assign class later to not break animation with DOM re-order\n                if (typeof window.requestAnimationFrame === \"function\") {\n                    window.requestAnimationFrame(() => addClass(lineHolder, \"active\"));\n                }\n                else {\n                    addClass(lineHolder, \"active\");\n                }\n            }\n        };\n        const onLabelMouseLeave = () => {\n            isHoverActive = false;\n            if (!isClickActive) {\n                removeClass(lineHolder, \"active\");\n            }\n        };\n        const onLabelClick = () => {\n            if (isClickActive) {\n                // deselect\n                isHoverActive = false;\n                removeClass(lineHolder, \"active\");\n            }\n            else if (!isHoverActive) {\n                // for touch devices\n                addClass(lineHolder, \"active\");\n            }\n            else {\n                isHoverActive = false;\n            }\n            // set new state\n            isClickActive = !isClickActive;\n        };\n        lineLabel.addEventListener(\"mouseenter\", onLabelMouseEnter);\n        lineLabel.addEventListener(\"mouseleave\", onLabelMouseLeave);\n        lineLabel.addEventListener(\"click\", onLabelClick);\n        lineLabelHolder.appendChild(lineLabel);\n        markHolder.appendChild(svg.newTitle(mark.name));\n        markHolder.appendChild(lineHolder);\n        markHolder.appendChild(lineLabelHolder);\n        marksHolder.appendChild(markHolder);\n    });\n    return marksHolder;\n}\n/**\n * Converts a `Mark` with a duration (e.g. a UserTiming with `startTimer` and `endTimer`) into a rect.\n * @param {Context} context Execution context object\n * @param {Mark} entry  Line entry\n */\nexport function createLineRect(context, entry) {\n    const holder = svg.newG(`line-mark-holder line-marker-${toCssClass(entry.name)}`);\n    holder.appendChild(svg.newTitle(entry.name.replace(/^startTimer-/, \"\")));\n    holder.appendChild(svg.newRect({\n        height: context.diagramHeight,\n        width: ((entry.duration || 1) / context.unit) + \"%\",\n        x: ((entry.startTime || 0.001) / context.unit) + \"%\",\n        y: 0,\n    }, \"line-mark\"));\n    return holder;\n}\n", "import * as svg from \"../helpers/svg\";\nimport { requestTypeToCssClass } from \"../transformers/styling-converters\";\nimport OverlayManager from \"./details-overlay/overlay-manager\";\nimport { PubSub } from \"./details-overlay/pub-sub\";\nimport * as row from \"./row/svg-row\";\nimport { makeTooltip } from \"./row/svg-tooltip\";\nimport * as svgAlignmentHelper from \"./sub-components/svg-alignment-helper\";\nimport * as svgGeneralComponents from \"./sub-components/svg-general-components\";\nimport * as svgMarks from \"./sub-components/svg-marks\";\n/**\n * Get a string that's as wide, or wider than any number from 0-n.\n * @param {number} n the highest number that should fit within the returned string's width.\n * @returns {string}\n */\nfunction getWidestDigitString(n) {\n    const numDigits = Math.floor((Math.log(n) / Math.LN10)) + 1;\n    let s = \"\";\n    for (let i = 0; i < numDigits; i++) {\n        // No number should take more horizontal space than \"0\" does.\n        s += \"0\";\n    }\n    return s;\n}\n/**\n * Calculate the height of the SVG chart in px\n * @param {Mark[]}       marks      [description]\n * @param  {number} diagramHeight\n * @returns Number\n */\nfunction getSvgHeight(marks, diagramHeight) {\n    const maxMarkTextLength = marks.reduce((currMax, currValue) => {\n        const attributes = { x: 0, y: 0 };\n        return Math.max(currMax, svg.getNodeTextWidth(svg.newTextEl(currValue.name, attributes), true));\n    }, 0);\n    return Math.floor(diagramHeight + maxMarkTextLength + 35);\n}\n/**\n * Intitializes the context object\n * @param {WaterfallData} data - Object containing the setup parameter\n * @param {ChartOptions} options - Chart config/customization options\n * @param {WaterfallEntry[]} entriesToShow - Filtered array of entries that will be rendered\n * @return {Context} Context object\n */\nfunction createContext(data, options, entriesToShow) {\n    const unit = data.durationMs / 100;\n    const diagramHeight = (entriesToShow.length + 1) * options.rowHeight;\n    const context = {\n        diagramHeight,\n        options,\n        pubSub: new PubSub(),\n        unit,\n    };\n    // `overlayManager` needs the `context` reference, so it's attached later\n    return {\n        ...context,\n        overlayManager: new OverlayManager(context),\n    };\n}\n/**\n * Entry point to start rendering the full waterfall SVG\n * @param {WaterfallData} data - Object containing the setup parameter\n * @param {ChartOptions} options - Chart config/customization options\n * @return {SVGSVGElement} - SVG Element ready to render\n */\nexport function createWaterfallSvg(data, options) {\n    // constants\n    const entriesToShow = data.entries\n        .filter((entry) => (typeof entry.start === \"number\" && typeof entry.total === \"number\"))\n        .sort((a, b) => (a.start || 0) - (b.start || 0));\n    /** Holder of request-details overlay */\n    const overlayHolder = svg.newG(\"overlays\");\n    /** Holds all rows */\n    const rowHolder = svg.newG(\"rows-holder\");\n    const context = createContext(data, options, entriesToShow);\n    /** full height of the SVG chart in px */\n    const chartHolderHeight = getSvgHeight(data.marks, context.diagramHeight);\n    /** Main SVG Element that holds all data */\n    const timeLineHolder = svg.newSvg(\"water-fall-chart\", {\n        height: chartHolderHeight,\n    });\n    /** Holder for scale, event and marks */\n    const scaleAndMarksHolder = svg.newSvg(\"scale-and-marks-holder\", {\n        width: `${100 - options.leftColumnWidth}%`,\n        x: `${options.leftColumnWidth}%`,\n    });\n    /** Holder for on-hover vertical comparison bars */\n    let hoverOverlayHolder;\n    let mouseListeners;\n    if (options.showAlignmentHelpers) {\n        hoverOverlayHolder = svg.newG(\"hover-overlays\");\n        const hoverEl = svgAlignmentHelper.createAlignmentLines(context.diagramHeight);\n        hoverOverlayHolder.appendChild(hoverEl.startline);\n        hoverOverlayHolder.appendChild(hoverEl.endline);\n        mouseListeners = svgAlignmentHelper.makeHoverEvtListeners(hoverEl);\n    }\n    // Start appending SVG elements to the holder element (timeLineHolder)\n    scaleAndMarksHolder.appendChild(svgGeneralComponents.createTimeScale(context, data.durationMs));\n    scaleAndMarksHolder.appendChild(svgMarks.createMarks(context, data.marks));\n    // This assumes all icons (mime and indicators) have the same width\n    const perIconWidth = entriesToShow[0].responseDetails.icon.width;\n    let maxIcons = 0;\n    if (options.showMimeTypeIcon) {\n        maxIcons += 1;\n    }\n    if (options.showIndicatorIcons) {\n        const iconsPerBlock = entriesToShow.map((entry) => entry.responseDetails.indicators.filter((i) => i.displayType === \"icon\").length > 0 ? 1 : 0);\n        maxIcons += Math.max.apply(null, iconsPerBlock);\n    }\n    const maxIconsWidth = maxIcons * perIconWidth;\n    const widestRequestNumber = getWidestDigitString(entriesToShow.length);\n    const maxNumberWidth = svg.getNodeTextWidth(svg.newTextEl(`${widestRequestNumber}`), true);\n    const rowItems = [];\n    function getChartHeight() {\n        return chartHolderHeight + context.overlayManager.getCombinedOverlayHeight();\n    }\n    context.pubSub.subscribeToOverlayChanges(() => {\n        const newHeight = getChartHeight();\n        timeLineHolder.classList.toggle(\"closing\", newHeight < timeLineHolder.clientHeight);\n        timeLineHolder.style.height = `${newHeight}px`;\n    });\n    /** Renders single row and hooks up behaviour */\n    function renderRow(entry, i) {\n        const entryWidth = entry.total || 1;\n        const y = options.rowHeight * i;\n        const x = (entry.start || 0.001);\n        const detailsHeight = 450;\n        const rectData = {\n            cssClass: requestTypeToCssClass(entry.responseDetails.requestType),\n            height: options.rowHeight,\n            hideOverlay: options.showAlignmentHelpers ? mouseListeners.onMouseLeavePartial : undefined,\n            label: `<strong>${entry.url}</strong><br/>` +\n                `${Math.round(entry.start)}ms - ${Math.round(entry.end)}ms<br/>` +\n                `total: ${isNaN(entry.total) ? \"n/a \" : Math.round(entry.total)}ms`,\n            showOverlay: options.showAlignmentHelpers ? mouseListeners.onMouseEnterPartial : undefined,\n            unit: context.unit,\n            width: entryWidth,\n            x,\n            y,\n        };\n        const showDetailsOverlay = () => {\n            context.overlayManager.toggleOverlay(i, y + options.rowHeight, detailsHeight, entry, rowItems);\n        };\n        const rowItem = row.createRow(context, i, maxIconsWidth, maxNumberWidth, rectData, entry, showDetailsOverlay);\n        rowItems.push(rowItem);\n        rowHolder.appendChild(rowItem);\n        rowHolder.appendChild(svg.newG(\"row-overlay-holder\"));\n    }\n    // Main loop to render rows with blocks\n    entriesToShow.forEach(renderRow);\n    if (options.showAlignmentHelpers && hoverOverlayHolder !== undefined) {\n        scaleAndMarksHolder.appendChild(hoverOverlayHolder);\n    }\n    timeLineHolder.appendChild(scaleAndMarksHolder);\n    timeLineHolder.appendChild(rowHolder);\n    timeLineHolder.appendChild(overlayHolder);\n    timeLineHolder.appendChild(makeTooltip(options));\n    return timeLineHolder;\n}\n", "import { validateOptions } from \"./helpers/parse\";\nimport { makeLegend as makeLegendInternal } from \"./legend/legend\";\nimport Paging from \"./paging/paging\";\nimport * as HarTransformer from \"./transformers/har\";\nimport { createWaterfallSvg } from \"./waterfall/svg-chart\";\n/** default options to use if not set in `options` parameter */\nconst defaultChartOptions = {\n    leftColumnWidth: 25,\n    legendHolder: undefined,\n    onParsed: undefined,\n    pageSelector: undefined,\n    rowHeight: 23,\n    selectedPage: 0,\n    showAlignmentHelpers: true,\n    showIndicatorIcons: true,\n    showMimeTypeIcon: true,\n};\n/** default options to use if not set in `options` parameter */\nconst defaultHarTransformerOptions = {\n    showUserTiming: false,\n    showUserTimingEndMarker: false,\n};\n/**\n * Creates the html for diagrams legend\n * @returns {HTMLUListElement} - Legend `<ul>` element\n */\nexport function makeLegend() {\n    return makeLegendInternal();\n}\nfunction PerfCascade(waterfallDocsData, chartOptions = {}) {\n    if (chartOptions[\"leftColumnWith\"] !== undefined) {\n        // tslint:disable-next-line: no-console\n        console.warn(\"Depreciation Warning: The option 'leftColumnWith' has been fixed to 'leftColumnWidth', \" +\n            \"please update your code as this will get deprecated in the future\");\n        chartOptions.leftColumnWidth = chartOptions[\"leftColumnWith\"];\n    }\n    const options = validateOptions({ ...defaultChartOptions, ...chartOptions });\n    // setup paging helper\n    const paging = new Paging(waterfallDocsData, options.selectedPage);\n    let doc = createWaterfallSvg(paging.getSelectedPage(), options);\n    // page update behavior\n    paging.onPageUpdate((_pageIndex, pageDoc) => {\n        const el = doc.parentElement;\n        const newDoc = createWaterfallSvg(pageDoc, options);\n        el.replaceChild(newDoc, doc);\n        doc = newDoc;\n    });\n    if (options.pageSelector) {\n        paging.initPagingSelectBox(options.pageSelector);\n    }\n    if (options.legendHolder) {\n        options.legendHolder.innerHTML = \"\";\n        options.legendHolder.appendChild(makeLegendInternal());\n    }\n    return doc;\n}\n/**\n * Create new PerfCascade from HAR data\n * @param  {Har} harData - HAR object\n * @param  {ChartOptions} options - PerfCascade options object\n * @returns {SVGSVGElement} - Chart SVG Element\n */\nexport function fromHar(harData, options = {}) {\n    const harTransformerOptions = {\n        ...defaultHarTransformerOptions,\n        ...options,\n    };\n    const data = HarTransformer.transformDoc(harData, harTransformerOptions);\n    if (typeof options.onParsed === \"function\") {\n        options.onParsed(data);\n    }\n    return PerfCascade(data, options);\n}\n", "// use zip\nconst getConfiguredZipJs = () => {\n    const zip = window[\"zip\"] || {};\n    zip.useWebWorkers = false;\n    return zip;\n};\n/** handle client side file upload */\nexport function readFile(file, fileName, callback, onProgress) {\n    if (!file) {\n        return callback(new Error(\"Failed to load HAR file\"));\n    }\n    function parseJson(rawData) {\n        try {\n            const harData = JSON.parse(rawData);\n            callback(null, harData.log);\n        }\n        catch (e) {\n            callback(e);\n        }\n    }\n    /** start reading the file */\n    const extension = (fileName.match(/\\.[0-9a-z]+$/i) || [])[0];\n    const zip = getConfiguredZipJs();\n    if ([\".zhar\", \".zip\"].indexOf(extension) !== -1) {\n        /** zhar */\n        zip.createReader(new zip.BlobReader(file), (zipReader) => {\n            zipReader.getEntries((x) => {\n                x[0].getData(new zip.TextWriter(), (txt) => {\n                    parseJson(txt);\n                    // close the zip reader\n                    zipReader.close();\n                }, onProgress);\n            });\n        });\n    }\n    else {\n        const reader = new FileReader();\n        /** try to parse the file once uploaded to browser */\n        reader.addEventListener(\"load\", (e) => {\n            parseJson(e.target.result);\n        });\n        reader.readAsText(file);\n    }\n}\n"],
  "mappings": "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",
  "names": ["css", "html", "addClass", "css", "html", "html", "css", "makeLegend"]
}
