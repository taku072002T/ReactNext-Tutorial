{"version":3,"sources":["../src/browser.tsx"],"sourcesContent":["import * as React from 'react';\nimport getComponentDisplayName from '@toolpad/utils/react';\nimport { TOOLPAD_COMPONENT } from './constants';\nimport { ArgTypeDefinition, ComponentConfig, PropValueType, ToolpadComponent } from './types';\n\ntype MaybeLegacyArgTypeDefinition = ArgTypeDefinition & { typeDef?: PropValueType };\n\n/**\n * Marks the wrapped React component as a Toolpad Studio compatible component.\n * This makes it available in the Toolpad Studio editor.\n * Optionally, you can pass a configuration object to specify the component's argument types.\n * Argument types define the properties that can be set in the Toolpad Studio editor for this component.\n * Additionally, you'll be able to bind page state to these properties.\n * @param Component The React component to wrap.\n * @param config The configuration for the component.\n */\nexport function createComponent<P extends object>(\n  Component: React.ComponentType<P>,\n  config?: ComponentConfig<P>,\n): ToolpadComponent<P> {\n  // TODO: Remove post beta\n  if (config?.argTypes) {\n    for (const [name, argType] of Object.entries(config.argTypes)) {\n      const maybeLegacyArgtype = argType as MaybeLegacyArgTypeDefinition;\n      if (maybeLegacyArgtype.typeDef) {\n        const componentName = getComponentDisplayName(Component);\n        console.warn(\n          `Detected deprecated argType definition for \"${name}\" in the \"${componentName}\" component.`,\n        );\n        Object.assign(maybeLegacyArgtype, maybeLegacyArgtype.typeDef);\n        delete maybeLegacyArgtype.typeDef;\n      }\n    }\n  }\n  return Object.assign(Component, {\n    [TOOLPAD_COMPONENT]: config || { argTypes: {} },\n  });\n}\n"],"mappings":";;;;;AACA,OAAO,6BAA6B;AAe7B,SAAS,gBACd,WACA,QACqB;AAErB,MAAI,QAAQ,UAAU;AACpB,eAAW,CAAC,MAAM,OAAO,KAAK,OAAO,QAAQ,OAAO,QAAQ,GAAG;AAC7D,YAAM,qBAAqB;AAC3B,UAAI,mBAAmB,SAAS;AAC9B,cAAM,gBAAgB,wBAAwB,SAAS;AACvD,gBAAQ;AAAA,UACN,+CAA+C,IAAI,aAAa,aAAa;AAAA,QAC/E;AACA,eAAO,OAAO,oBAAoB,mBAAmB,OAAO;AAC5D,eAAO,mBAAmB;AAAA,MAC5B;AAAA,IACF;AAAA,EACF;AACA,SAAO,OAAO,OAAO,WAAW;AAAA,IAC9B,CAAC,iBAAiB,GAAG,UAAU,EAAE,UAAU,CAAC,EAAE;AAAA,EAChD,CAAC;AACH;","names":[]}